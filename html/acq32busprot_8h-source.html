<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>ACQ200 HOSTDRV: acq32busprot.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>acq32busprot.h</h1><a href="acq32busprot_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment"> *</span>
<a name="l00003"></a>00003 <span class="comment"> * File: acq32busprot.h</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> * $RCSfile: acq32busprot.h,v $</span>
<a name="l00006"></a>00006 <span class="comment"> * </span>
<a name="l00007"></a>00007 <span class="comment"> * Copyright (C) 1999 D-TACQ Solutions Ltd</span>
<a name="l00008"></a>00008 <span class="comment"> * not to be used without owner's permission</span>
<a name="l00009"></a>00009 <span class="comment"> *</span>
<a name="l00010"></a>00010 <span class="comment"> * Description: defines ACQ32 bus command protocol</span>
<a name="l00011"></a>00011 <span class="comment"> *</span>
<a name="l00012"></a>00012 <span class="comment">&lt;&lt;&lt;&lt;&lt;&lt;&lt; acq32busprot.h</span>
<a name="l00013"></a>00013 <span class="comment"> * $Id: acq32busprot.h,v 1.85.2.25 2007/04/18 14:54:45 pgm Exp $</span>
<a name="l00014"></a>00014 <span class="comment">=======</span>
<a name="l00015"></a>00015 <span class="comment"> * $Id: acq32busprot.h,v 1.85.2.25 2007/04/18 14:54:45 pgm Exp $</span>
<a name="l00016"></a>00016 <span class="comment">&gt;&gt;&gt;&gt;&gt;&gt;&gt; 1.85.2.1</span>
<a name="l00017"></a>00017 <span class="comment"> * $Log: acq32busprot.h,v $</span>
<a name="l00018"></a>00018 <span class="comment"> * Revision 1.85.2.25  2007/04/18 14:54:45  pgm</span>
<a name="l00019"></a>00019 <span class="comment"> * *** empty log message ***</span>
<a name="l00020"></a>00020 <span class="comment"> *</span>
<a name="l00021"></a>00021 <span class="comment"> * Revision 1.85.2.24  2007/02/16 16:31:55  pgm</span>
<a name="l00022"></a>00022 <span class="comment"> * *** empty log message ***</span>
<a name="l00023"></a>00023 <span class="comment"> *</span>
<a name="l00024"></a>00024 <span class="comment"> * Revision 1.85.2.23  2006/02/17 11:59:45  pgm</span>
<a name="l00025"></a>00025 <span class="comment"> * *** empty log message ***</span>
<a name="l00026"></a>00026 <span class="comment"> *</span>
<a name="l00027"></a>00027 <span class="comment"> * Revision 1.85.2.22  2006/01/26 19:05:36  pgm</span>
<a name="l00028"></a>00028 <span class="comment"> * *** empty log message ***</span>
<a name="l00029"></a>00029 <span class="comment"> *</span>
<a name="l00030"></a>00030 <span class="comment"> * Revision 1.85.2.20  2005/12/31 11:14:53  pgm</span>
<a name="l00031"></a>00031 <span class="comment"> * SYNC2V</span>
<a name="l00032"></a>00032 <span class="comment"> *</span>
<a name="l00033"></a>00033 <span class="comment"> * Revision 1.85.2.19  2005/12/06 20:29:39  pgm</span>
<a name="l00034"></a>00034 <span class="comment"> * LLC200_INIT_CHANNEL_MASK_ANTIPHASE</span>
<a name="l00035"></a>00035 <span class="comment"> *</span>
<a name="l00036"></a>00036 <span class="comment"> * Revision 1.85.2.18  2005/12/01 15:39:35  pgm</span>
<a name="l00037"></a>00037 <span class="comment"> * LLC200_INIT_MASK_DDS_QDAC</span>
<a name="l00038"></a>00038 <span class="comment"> *</span>
<a name="l00039"></a>00039 <span class="comment"> * Revision 1.85.2.17  2005/11/30 11:13:55  pgm</span>
<a name="l00040"></a>00040 <span class="comment"> * *** empty log message ***</span>
<a name="l00041"></a>00041 <span class="comment"> *</span>
<a name="l00042"></a>00042 <span class="comment"> * Revision 1.85.2.16  2005/11/30 10:51:02  pgm</span>
<a name="l00043"></a>00043 <span class="comment"> * *** empty log message ***</span>
<a name="l00044"></a>00044 <span class="comment"> *</span>
<a name="l00045"></a>00045 <span class="comment"> * Revision 1.85.2.15  2005/10/20 19:37:28  pgm</span>
<a name="l00046"></a>00046 <span class="comment"> * reinstate ull</span>
<a name="l00047"></a>00047 <span class="comment"> *</span>
<a name="l00048"></a>00048 <span class="comment"> * Revision 1.85.2.14  2005/10/20 19:30:33  pgm</span>
<a name="l00049"></a>00049 <span class="comment"> * LLC200_INIT_TRIG consts</span>
<a name="l00050"></a>00050 <span class="comment"> *</span>
<a name="l00051"></a>00051 <span class="comment"> * Revision 1.4  2005/10/03 12:54:51  pgm</span>
<a name="l00052"></a>00052 <span class="comment"> * LLC200_INIT_TRIG_EXTRIG</span>
<a name="l00053"></a>00053 <span class="comment"> *</span>
<a name="l00054"></a>00054 <span class="comment"> * Revision 1.3  2005/10/01 19:27:36  pgm</span>
<a name="l00055"></a>00055 <span class="comment"> * ACQ200LLC</span>
<a name="l00056"></a>00056 <span class="comment"> *</span>
<a name="l00057"></a>00057 <span class="comment"> * Revision 1.85.2.12  2005/10/01 17:02:44  pgm</span>
<a name="l00058"></a>00058 <span class="comment"> * LLC200_INIT</span>
<a name="l00059"></a>00059 <span class="comment"> *</span>
<a name="l00060"></a>00060 <span class="comment"> * Revision 1.85.2.11  2005/08/11 10:01:53  pgm</span>
<a name="l00061"></a>00061 <span class="comment"> * *** empty log message ***</span>
<a name="l00062"></a>00062 <span class="comment"> *</span>
<a name="l00063"></a>00063 <span class="comment"> * Revision 1.85.2.10  2005/07/30 16:16:59  pgm</span>
<a name="l00064"></a>00064 <span class="comment"> * LLC_V2 additions</span>
<a name="l00065"></a>00065 <span class="comment"> *</span>
<a name="l00066"></a>00066 <span class="comment"> * Revision 1.85.2.9  2005/07/26 13:02:08  pgm</span>
<a name="l00067"></a>00067 <span class="comment"> * *** empty log message ***</span>
<a name="l00068"></a>00068 <span class="comment"> *</span>
<a name="l00069"></a>00069 <span class="comment"> * Revision 1.85.2.8  2004/11/14 09:35:40  pgm</span>
<a name="l00070"></a>00070 <span class="comment"> * handles SPCLID for rsh</span>
<a name="l00071"></a>00071 <span class="comment"> *</span>
<a name="l00072"></a>00072 <span class="comment"> * Revision 1.85.2.7  2004/06/12 16:57:20  pgm</span>
<a name="l00073"></a>00073 <span class="comment"> * MFX defines</span>
<a name="l00074"></a>00074 <span class="comment"> *</span>
<a name="l00075"></a>00075 <span class="comment"> * Revision 1.85.2.6  2003/12/12 14:17:58  pgm</span>
<a name="l00076"></a>00076 <span class="comment"> * *** empty log message ***</span>
<a name="l00077"></a>00077 <span class="comment"> *</span>
<a name="l00078"></a>00078 <span class="comment"> * Revision 1.85.2.5  2003/12/02 15:22:13  pgm</span>
<a name="l00079"></a>00079 <span class="comment"> * HRD_WAVETRACK</span>
<a name="l00080"></a>00080 <span class="comment"> *</span>
<a name="l00081"></a>00081 <span class="comment"> * Revision 1.85.2.4  2003/11/11 09:00:21  pgm</span>
<a name="l00082"></a>00082 <span class="comment"> * align pre- post- doc with reality</span>
<a name="l00083"></a>00083 <span class="comment"> *</span>
<a name="l00084"></a>00084 <span class="comment"> * Revision 1.85.2.3  2003/10/30 14:13:27  pgm</span>
<a name="l00085"></a>00085 <span class="comment"> * *** empty log message ***</span>
<a name="l00086"></a>00086 <span class="comment"> *</span>
<a name="l00087"></a>00087 <span class="comment"> * Revision 1.85.2.2  2003/09/08 21:12:06  pgm</span>
<a name="l00088"></a>00088 <span class="comment"> * *** empty log message ***</span>
<a name="l00089"></a>00089 <span class="comment"> *</span>
<a name="l00090"></a>00090 <span class="comment">&lt;&lt;&lt;&lt;&lt;&lt;&lt; acq32busprot.h</span>
<a name="l00091"></a>00091 <span class="comment"> * Revision 1.84  2003/06/02 11:50:20  pgm</span>
<a name="l00092"></a>00092 <span class="comment"> * HTM V2</span>
<a name="l00093"></a>00093 <span class="comment"> *</span>
<a name="l00094"></a>00094 <span class="comment"> * Revision 1.84  2003/06/02 11:40:53  pgm</span>
<a name="l00095"></a>00095 <span class="comment"> * HTM V2</span>
<a name="l00096"></a>00096 <span class="comment">=======</span>
<a name="l00097"></a>00097 <span class="comment"> * Revision 1.85.2.1  2003/09/07 16:59:45  pgm</span>
<a name="l00098"></a>00098 <span class="comment"> * new host data exchange opts</span>
<a name="l00099"></a>00099 <span class="comment"> *</span>
<a name="l00100"></a>00100 <span class="comment"> * Revision 1.85  2003/07/03 11:28:46  pgm</span>
<a name="l00101"></a>00101 <span class="comment"> * LLC_DAC</span>
<a name="l00102"></a>00102 <span class="comment">&gt;&gt;&gt;&gt;&gt;&gt;&gt; 1.85.2.1</span>
<a name="l00103"></a>00103 <span class="comment"> *</span>
<a name="l00104"></a>00104 <span class="comment"> * Revision 1.83  2002/08/29 18:52:45  pgm</span>
<a name="l00105"></a>00105 <span class="comment"> * boost opt</span>
<a name="l00106"></a>00106 <span class="comment"> *</span>
<a name="l00107"></a>00107 <span class="comment"> * Revision 1.82  2002/08/23 18:29:42  pgm</span>
<a name="l00108"></a>00108 <span class="comment"> * *** empty log message ***</span>
<a name="l00109"></a>00109 <span class="comment"> *</span>
<a name="l00110"></a>00110 <span class="comment"> * Revision 1.81  2002/07/19 18:40:29  pgm</span>
<a name="l00111"></a>00111 <span class="comment"> * adjust hrdr</span>
<a name="l00112"></a>00112 <span class="comment"> *</span>
<a name="l00113"></a>00113 <span class="comment"> * Revision 1.80  2002/06/11 14:52:20  pgm</span>
<a name="l00114"></a>00114 <span class="comment"> * ditto</span>
<a name="l00115"></a>00115 <span class="comment"> *</span>
<a name="l00116"></a>00116 <span class="comment"> * Revision 1.79  2002/06/10 20:04:17  pgm</span>
<a name="l00117"></a>00117 <span class="comment"> * MESSAGE gets more structure, less casts</span>
<a name="l00118"></a>00118 <span class="comment"> *</span>
<a name="l00119"></a>00119 <span class="comment"> * Revision 1.77  2002/04/10 20:20:44  pgm</span>
<a name="l00120"></a>00120 <span class="comment"> * htstream correct</span>
<a name="l00121"></a>00121 <span class="comment"> *</span>
<a name="l00122"></a>00122 <span class="comment"> * Revision 1.76  2002/03/28 15:27:05  pgm</span>
<a name="l00123"></a>00123 <span class="comment"> * add debounce opts</span>
<a name="l00124"></a>00124 <span class="comment"> *</span>
<a name="l00125"></a>00125 <span class="comment"> * Revision1.75  2002/03/25 08:58:12  pgm</span>
<a name="l00126"></a>00126 <span class="comment"> * cycle field in status reg</span>
<a name="l00127"></a>00127 <span class="comment"> *</span>
<a name="l00128"></a>00128 <span class="comment"> * Revision 1.74  2002/03/21 11:55:44  pgm</span>
<a name="l00129"></a>00129 <span class="comment"> * untabify</span>
<a name="l00130"></a>00130 <span class="comment"> *</span>
<a name="l00131"></a>00131 <span class="comment"> * Revision 1.73  2002/03/14 12:03:48  pgm</span>
<a name="l00132"></a>00132 <span class="comment"> * compiled on benbecula</span>
<a name="l00133"></a>00133 <span class="comment"> *</span>
<a name="l00134"></a>00134 <span class="comment"> * Revision 1.72  2002/03/12 15:40:46  pgm</span>
<a name="l00135"></a>00135 <span class="comment"> * emacs format rools OK</span>
<a name="l00136"></a>00136 <span class="comment"> *</span>
<a name="l00137"></a>00137 <span class="comment"> * Revision 1.71  2002/02/10 17:59:42  pgm</span>
<a name="l00138"></a>00138 <span class="comment"> * event waiting, FAST_MULTI opt</span>
<a name="l00139"></a>00139 <span class="comment"> *</span>
<a name="l00140"></a>00140 <span class="comment"> * Revision 1.70  2001/11/23 19:18:34  pgm</span>
<a name="l00141"></a>00141 <span class="comment"> * keep record lengths the same</span>
<a name="l00142"></a>00142 <span class="comment"> *</span>
<a name="l00143"></a>00143 <span class="comment"> * Revision 1.68  2001/11/05 16:04:45  pgm</span>
<a name="l00144"></a>00144 <span class="comment"> * text debug opt added</span>
<a name="l00145"></a>00145 <span class="comment"> *</span>
<a name="l00146"></a>00146 <span class="comment"> * Revision 1.67  2001/10/27 21:38:46  pgm</span>
<a name="l00147"></a>00147 <span class="comment"> * rt timing</span>
<a name="l00148"></a>00148 <span class="comment"> *</span>
<a name="l00149"></a>00149 <span class="comment"> * Revision 1.66  2001/10/20 13:44:12  pgm</span>
<a name="l00150"></a>00150 <span class="comment"> * set ext clock</span>
<a name="l00151"></a>00151 <span class="comment"> *</span>
<a name="l00152"></a>00152 <span class="comment"> * Revision 1.65  2001/10/06 13:07:53  pgm</span>
<a name="l00153"></a>00153 <span class="comment"> * DEBUG_GET_REGS</span>
<a name="l00154"></a>00154 <span class="comment"> *</span>
<a name="l00155"></a>00155 <span class="comment"> * Revision 1.64  2001/10/01 21:27:17  pgm</span>
<a name="l00156"></a>00156 <span class="comment"> * DTACQ coding of header.id to avoid i2o clash</span>
<a name="l00157"></a>00157 <span class="comment"> *</span>
<a name="l00158"></a>00158 <span class="comment"> * Revision 1.63  2001/10/01 09:43:34  pgm</span>
<a name="l00159"></a>00159 <span class="comment"> * ID_DTACQ on incoming messages (no i2o clash)</span>
<a name="l00160"></a>00160 <span class="comment"> *</span>
<a name="l00161"></a>00161 <span class="comment"> * Revision 1.62  2001/09/02 19:02:27  pgm</span>
<a name="l00162"></a>00162 <span class="comment"> * DATA_TRIGGER_MULTI</span>
<a name="l00163"></a>00163 <span class="comment"> *</span>
<a name="l00164"></a>00164 <span class="comment"> * Revision 1.61  2001/09/02 19:02:30  pgm</span>
<a name="l00165"></a>00165 <span class="comment"> * available channels, volt range queries</span>
<a name="l00166"></a>00166 <span class="comment"> *</span>
<a name="l00167"></a>00167 <span class="comment"> * Revision 1.60  2001/08/18 18:06:55  pgm</span>
<a name="l00168"></a>00168 <span class="comment"> * gut reset, ext debug</span>
<a name="l00169"></a>00169 <span class="comment"> *</span>
<a name="l00170"></a>00170 <span class="comment"> * Revision 1.57  2001/06/25 10:28:49  pgm</span>
<a name="l00171"></a>00171 <span class="comment"> * add get status defs</span>
<a name="l00172"></a>00172 <span class="comment"> *</span>
<a name="l00173"></a>00173 <span class="comment"> * Revision 1.56  2001/06/11 09:03:20  pgm</span>
<a name="l00174"></a>00174 <span class="comment"> * setClock, clockNow hooked up</span>
<a name="l00175"></a>00175 <span class="comment"> *</span>
<a name="l00176"></a>00176 <span class="comment"> * Revision 1.55  2001/06/02 08:43:29  pgm</span>
<a name="l00177"></a>00177 <span class="comment"> * BP_FC_RESERVE_AO</span>
<a name="l00178"></a>00178 <span class="comment"> *</span>
<a name="l00179"></a>00179 <span class="comment"> * Revision 1.54  2001/06/01 20:10:59  pgm</span>
<a name="l00180"></a>00180 <span class="comment"> * add GUT</span>
<a name="l00181"></a>00181 <span class="comment"> *</span>
<a name="l00182"></a>00182 <span class="comment"> * Revision 1.53  2001/05/25 14:41:30  pgm</span>
<a name="l00183"></a>00183 <span class="comment"> * improved comments</span>
<a name="l00184"></a>00184 <span class="comment"> *</span>
<a name="l00185"></a>00185 <span class="comment"> * Revision 1.52  2001/05/25 10:19:10  pgm</span>
<a name="l00186"></a>00186 <span class="comment"> * fix LLC_CSR_S_IS_ARMED</span>
<a name="l00187"></a>00187 <span class="comment"> *</span>
<a name="l00188"></a>00188 <span class="comment"> * Revision 1.51  2001/05/20 17:26:19  pgm</span>
<a name="l00189"></a>00189 <span class="comment"> * added LLC_CSR_READY</span>
<a name="l00190"></a>00190 <span class="comment"> *</span>
<a name="l00191"></a>00191 <span class="comment"> * Revision 1.50  2001/05/19 11:41:50  pgm</span>
<a name="l00192"></a>00192 <span class="comment"> * LLC entry prams added</span>
<a name="l00193"></a>00193 <span class="comment"> *</span>
<a name="l00194"></a>00194 <span class="comment"> * Revision 1.49  2001/05/19 10:30:04  pgm</span>
<a name="l00195"></a>00195 <span class="comment"> * low latency compiles</span>
<a name="l00196"></a>00196 <span class="comment"> *</span>
<a name="l00197"></a>00197 <span class="comment"> * Revision 1.48  2001/05/19 07:04:53  pgm</span>
<a name="l00198"></a>00198 <span class="comment"> * LLC defs done</span>
<a name="l00199"></a>00199 <span class="comment"> *</span>
<a name="l00200"></a>00200 <span class="comment"> * Revision 1.47  2001/05/15 18:12:58  pgm</span>
<a name="l00201"></a>00201 <span class="comment"> * BP_FC_SET_XO_FUNCTION</span>
<a name="l00202"></a>00202 <span class="comment"> *</span>
<a name="l00203"></a>00203 <span class="comment"> * Revision 1.46  2001/05/15 17:53:56  pgm</span>
<a name="l00204"></a>00204 <span class="comment"> * *** empty log message ***</span>
<a name="l00205"></a>00205 <span class="comment"> *</span>
<a name="l00206"></a>00206 <span class="comment"> * Revision 1.45  2001/05/13 11:47:05  pgm</span>
<a name="l00207"></a>00207 <span class="comment"> * BP_FC_SET_XO options</span>
<a name="l00208"></a>00208 <span class="comment"> *</span>
<a name="l00209"></a>00209 <span class="comment"> * Revision 1.44  2001/05/13 10:54:39  pgm</span>
<a name="l00210"></a>00210 <span class="comment"> * BP_FC_SET_XO options</span>
<a name="l00211"></a>00211 <span class="comment"> *</span>
<a name="l00212"></a>00212 <span class="comment"> * Revision 1.43  2001/05/07 07:54:14  pgm</span>
<a name="l00213"></a>00213 <span class="comment"> * SET DO, message buffer defined</span>
<a name="l00214"></a>00214 <span class="comment"> *</span>
<a name="l00215"></a>00215 <span class="comment"> * Revision 1.42  2001/05/05 06:33:10  pgm</span>
<a name="l00216"></a>00216 <span class="comment"> * magic number removal - this works</span>
<a name="l00217"></a>00217 <span class="comment"> *</span>
<a name="l00218"></a>00218 <span class="comment"> * Revision 1.41  2001/04/14 20:37:51  pgm</span>
<a name="l00219"></a>00219 <span class="comment"> * CPCI routing coded, needs testing</span>
<a name="l00220"></a>00220 <span class="comment"> *</span>
<a name="l00221"></a>00221 <span class="comment"> * Revision 1.40  2001/04/01 17:18:55  pgm</span>
<a name="l00222"></a>00222 <span class="comment"> * TEST mode data encode</span>
<a name="l00223"></a>00223 <span class="comment"> *</span>
<a name="l00224"></a>00224 <span class="comment"> * Revision 1.39  2001/03/29 05:43:20  pgm</span>
<a name="l00225"></a>00225 <span class="comment"> * field name changes</span>
<a name="l00226"></a>00226 <span class="comment"> *</span>
<a name="l00227"></a>00227 <span class="comment"> * Revision 1.38  2001/03/25 18:58:11  pgm</span>
<a name="l00228"></a>00228 <span class="comment"> * MT_COMMAND stuff now compiles</span>
<a name="l00229"></a>00229 <span class="comment"> *</span>
<a name="l00230"></a>00230 <span class="comment"> * Revision 1.37  2001/03/25 18:24:59  pgm</span>
<a name="l00231"></a>00231 <span class="comment"> * MAKE_MT_COMMAND and friends - i2o packet commands</span>
<a name="l00232"></a>00232 <span class="comment"> *</span>
<a name="l00233"></a>00233 <span class="comment"> * Revision 1.36  2001/03/17 12:50:26  pgm</span>
<a name="l00234"></a>00234 <span class="comment"> * builds in restructured tree</span>
<a name="l00235"></a>00235 <span class="comment"> *</span>
<a name="l00236"></a>00236 <span class="comment"> * Revision 1.35  2001/03/10 10:32:01  pgm</span>
<a name="l00237"></a>00237 <span class="comment"> * nodos</span>
<a name="l00238"></a>00238 <span class="comment"> *</span>
<a name="l00239"></a>00239 <span class="comment"> * Revision 1.34  2001/02/16 19:26:08  pgm</span>
<a name="l00240"></a>00240 <span class="comment"> * LowLatency defs added</span>
<a name="l00241"></a>00241 <span class="comment"> *</span>
<a name="l00242"></a>00242 <span class="comment"> * Revision 1.33  2000/10/22 19:21:07  pgm</span>
<a name="l00243"></a>00243 <span class="comment"> * GET_INTCLOCK</span>
<a name="l00244"></a>00244 <span class="comment"> *</span>
<a name="l00245"></a>00245 <span class="comment"> * Revision 1.32  2000/10/07 15:59:42  pgm</span>
<a name="l00246"></a>00246 <span class="comment"> * TC mode</span>
<a name="l00247"></a>00247 <span class="comment"> *</span>
<a name="l00248"></a>00248 <span class="comment"> * Revision 1.31  2000/10/07 15:48:04  pgm</span>
<a name="l00249"></a>00249 <span class="comment"> * SET_DIST, SET_ROUTE commands</span>
<a name="l00250"></a>00250 <span class="comment"> *</span>
<a name="l00251"></a>00251 <span class="comment"> * Revision 1.30  2000/10/01 14:38:29  pgm</span>
<a name="l00252"></a>00252 <span class="comment"> * bigdump, firmware rev, return messazge types</span>
<a name="l00253"></a>00253 <span class="comment"> *</span>
<a name="l00254"></a>00254 <span class="comment"> * Revision 1.29  2000/10/01 14:30:13  pgm</span>
<a name="l00255"></a>00255 <span class="comment"> * bigdump, firmware rev</span>
<a name="l00256"></a>00256 <span class="comment"> *</span>
<a name="l00257"></a>00257 <span class="comment"> * Revision 1.28  2000/09/26 19:59:34  pgm</span>
<a name="l00258"></a>00258 <span class="comment"> * split SET_MODE_GC</span>
<a name="l00259"></a>00259 <span class="comment"> *</span>
<a name="l00260"></a>00260 <span class="comment"> * Revision 1.27  2000/09/26 19:46:52  pgm</span>
<a name="l00261"></a>00261 <span class="comment"> * GATED_CONTINUOUS pre/post, lseek, spin</span>
<a name="l00262"></a>00262 <span class="comment"> *</span>
<a name="l00263"></a>00263 <span class="comment"> * Revision 1.26  2000/09/18 13:11:06  pgm</span>
<a name="l00264"></a>00264 <span class="comment"> * MTP_STREAM_SLEN in bytes</span>
<a name="l00265"></a>00265 <span class="comment"> *</span>
<a name="l00266"></a>00266 <span class="comment"> * Revision 1.25  2000/08/13 08:22:05  pgm</span>
<a name="l00267"></a>00267 <span class="comment"> * add message def</span>
<a name="l00268"></a>00268 <span class="comment"> *</span>
<a name="l00269"></a>00269 <span class="comment"> * Revision 1.24  2000/06/25 06:17:27  pgm</span>
<a name="l00270"></a>00270 <span class="comment"> * including tag def</span>
<a name="l00271"></a>00271 <span class="comment"> *</span>
<a name="l00272"></a>00272 <span class="comment"> * Revision 1.23  2000/06/24 15:13:02  pgm</span>
<a name="l00273"></a>00273 <span class="comment"> * BP_FC_SET_HOST_DMABUF</span>
<a name="l00274"></a>00274 <span class="comment"> *</span>
<a name="l00275"></a>00275 <span class="comment"> * Revision 1.22  2000/06/08 21:53:20  pgm</span>
<a name="l00276"></a>00276 <span class="comment"> * compiles</span>
<a name="l00277"></a>00277 <span class="comment"> *</span>
<a name="l00278"></a>00278 <span class="comment"> * Revision 1.21  2000/06/05 18:30:11  pgm</span>
<a name="l00279"></a>00279 <span class="comment"> * BP_FC_SC_POT</span>
<a name="l00280"></a>00280 <span class="comment"> *</span>
<a name="l00281"></a>00281 <span class="comment"> * Revision 1.20  2000/06/04 18:41:00  pgm</span>
<a name="l00282"></a>00282 <span class="comment"> * Signal Conditioning protocol implemented</span>
<a name="l00283"></a>00283 <span class="comment"> *</span>
<a name="l00284"></a>00284 <span class="comment"> * Revision 1.19  2000/01/08 21:14:57  pgm</span>
<a name="l00285"></a>00285 <span class="comment"> * BP_INT_STATUS_CHANGE</span>
<a name="l00286"></a>00286 <span class="comment"> *</span>
<a name="l00287"></a>00287 <span class="comment"> * Revision 1.18  2000/01/08 21:07:20  pgm</span>
<a name="l00288"></a>00288 <span class="comment"> * GET MASK query added</span>
<a name="l00289"></a>00289 <span class="comment"> *</span>
<a name="l00290"></a>00290 <span class="comment"> * Revision 1.17  2000/01/04 19:06:19  pgm</span>
<a name="l00291"></a>00291 <span class="comment"> * interrupt enable command</span>
<a name="l00292"></a>00292 <span class="comment"> *</span>
<a name="l00293"></a>00293 <span class="comment"> * Revision 1.16  1999/11/16 10:56:13  pgm</span>
<a name="l00294"></a>00294 <span class="comment"> * pretrigger flag added</span>
<a name="l00295"></a>00295 <span class="comment"> *</span>
<a name="l00296"></a>00296 <span class="comment"> * Revision 1.15  1999/11/08 17:30:36  pgm</span>
<a name="l00297"></a>00297 <span class="comment"> * BS_1K is enough for fetch</span>
<a name="l00298"></a>00298 <span class="comment"> *</span>
<a name="l00299"></a>00299 <span class="comment"> * Revision 1.14  1999/11/06 21:18:08  pgm</span>
<a name="l00300"></a>00300 <span class="comment"> * DACPOT adjusts updated from uist</span>
<a name="l00301"></a>00301 <span class="comment"> *</span>
<a name="l00302"></a>00302 <span class="comment"> * Revision 1.11  1999/11/01 09:45:59  pgm</span>
<a name="l00303"></a>00303 <span class="comment"> * modify Fetch protocol</span>
<a name="l00304"></a>00304 <span class="comment"> *</span>
<a name="l00305"></a>00305 <span class="comment"> * Revision 1.10  1999/11/01 09:15:36  pgm</span>
<a name="l00306"></a>00306 <span class="comment"> * prot updated from ARM</span>
<a name="l00307"></a>00307 <span class="comment"> *</span>
<a name="l00308"></a>00308 <span class="comment"> * Revision 1.2  1999/10/30 21:00:37  pgm</span>
<a name="l00309"></a>00309 <span class="comment"> * pgm backed up</span>
<a name="l00310"></a>00310 <span class="comment"> *</span>
<a name="l00311"></a>00311 <span class="comment"> * Revision 1.9  1999/10/28 21:24:38  pgm</span>
<a name="l00312"></a>00312 <span class="comment"> * define mask/interleave mech</span>
<a name="l00313"></a>00313 <span class="comment"> *</span>
<a name="l00314"></a>00314 <span class="comment"> * Revision 1.8  1999/10/28 21:19:19  pgm</span>
<a name="l00315"></a>00315 <span class="comment"> * data fetch/transfer mech</span>
<a name="l00316"></a>00316 <span class="comment"> *</span>
<a name="l00317"></a>00317 <span class="comment"> * Revision 1.7  1999/10/28 13:40:16  pgm</span>
<a name="l00318"></a>00318 <span class="comment"> * add revision</span>
<a name="l00319"></a>00319 <span class="comment"> *</span>
<a name="l00320"></a>00320 <span class="comment"> * Revision 1.6  1999/10/28 13:38:34  pgm</span>
<a name="l00321"></a>00321 <span class="comment"> * add revision</span>
<a name="l00322"></a>00322 <span class="comment"> *</span>
<a name="l00323"></a>00323 <span class="comment"> * Revision 1.5  1999/10/28 13:36:39  pgm</span>
<a name="l00324"></a>00324 <span class="comment"> * assign bits in priority order</span>
<a name="l00325"></a>00325 <span class="comment"> *</span>
<a name="l00326"></a>00326 <span class="comment"> * Revision 1.4  1999/10/28 08:10:36  pgm</span>
<a name="l00327"></a>00327 <span class="comment"> * BP_CI_COMMAND bit allows slave to cancel command</span>
<a name="l00328"></a>00328 <span class="comment"> *</span>
<a name="l00329"></a>00329 <span class="comment"> * Revision 1.3  1999/10/28 08:05:51  pgm</span>
<a name="l00330"></a>00330 <span class="comment"> * BP_CI_COMMAND bit allows slave to cancel command</span>
<a name="l00331"></a>00331 <span class="comment"> *</span>
<a name="l00332"></a>00332 <span class="comment">F</span>
<a name="l00333"></a>00333 <span class="comment">F</span>
<a name="l00334"></a>00334 <span class="comment">F</span>
<a name="l00335"></a>00335 <span class="comment">F</span>
<a name="l00336"></a>00336 <span class="comment"> * Revision 1.1  1999/10/22 16:26:49  pgm</span>
<a name="l00337"></a>00337 <span class="comment"> * first entry to cvs</span>
<a name="l00338"></a>00338 <span class="comment"> *</span>
<a name="l00339"></a>00339 <span class="comment"> *</span>
<a name="l00340"></a>00340 <span class="comment">\*****************************************************************************/</span>
<a name="l00341"></a>00341 
<a name="l00388"></a>00388 <span class="preprocessor">#ifndef _ACQ32BUSPROT_H_</span>
<a name="l00389"></a>00389 <span class="preprocessor"></span><span class="preprocessor">#define _ACQ32BUSPROT_H_</span>
<a name="l00390"></a>00390 <span class="preprocessor"></span>
<a name="l00391"></a>00391 
<a name="l00392"></a>00392 
<a name="l00393"></a><a class="code" href="acq32busprot_8h.html#d8c0b1d9d9f50bece1dcc82a23b6b0d1">00393</a> <span class="preprocessor">#define BP_REV            "$Revision: 1.85.2.25 $"</span>
<a name="l00394"></a>00394 <span class="preprocessor"></span>
<a name="l00395"></a><a class="code" href="acq32busprot_8h.html#8c0840981e955b9b06b7567c26e8c022">00395</a> <span class="preprocessor">#define BP_MB_COMMAND     0</span>
<a name="l00396"></a><a class="code" href="acq32busprot_8h.html#8dcac07b2bce9a3e288ec217e817a60d">00396</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_MB_A3          1</span>
<a name="l00397"></a><a class="code" href="acq32busprot_8h.html#76e0a9df4c70c5ac92774f3df8b9b772">00397</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_MB_A4          2</span>
<a name="l00398"></a><a class="code" href="acq32busprot_8h.html#df05becbeb72c5e8ec2cb2ada7220e86">00398</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_MB_STATUS      3</span>
<a name="l00399"></a>00399 <span class="preprocessor"></span>
<a name="l00400"></a>00400 
<a name="l00401"></a><a class="code" href="acq32busprot_8h.html#e944a99a603c241bbd7d9c7db84cdcca">00401</a> <span class="preprocessor">#define BP_CI_ACK_BIT     31     // 0x80000000  </span>
<a name="l00402"></a><a class="code" href="acq32busprot_8h.html#dc97f8284b84dd910d1f7dc76d32fceb">00402</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_CI_DONE_BIT    30     // 0x40000000</span>
<a name="l00403"></a><a class="code" href="acq32busprot_8h.html#47f39cfa4ba4d97912bf8fb1f56ccecf">00403</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_CI_COMMAND_BIT 29     // 0x20000000</span>
<a name="l00404"></a><a class="code" href="acq32busprot_8h.html#a34511346077e0976375d4443acdd348">00404</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_CI_QUERY_BIT   28     // 0x10000000</span>
<a name="l00405"></a>00405 <span class="preprocessor"></span>
<a name="l00406"></a><a class="code" href="acq32busprot_8h.html#5b19c2c614e6dc86acb0f747cf1b928c">00406</a> <span class="preprocessor">#define BP_CI_A3_BIT      27     // 0x080000000</span>
<a name="l00407"></a><a class="code" href="acq32busprot_8h.html#eb16345f444eeed4d4a877ca8991285b">00407</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_CI_A4_BIT      26     // 0x04000000</span>
<a name="l00408"></a>00408 <span class="preprocessor"></span>
<a name="l00409"></a>00409 <span class="comment">/*</span>
<a name="l00410"></a>00410 <span class="comment"> * list the funcodes as an enum to reduce chance of overload</span>
<a name="l00411"></a>00411 <span class="comment"> */</span>
<a name="l00412"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d">00412</a> <span class="keyword">enum</span> <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d">FUNCODES</a> {
<a name="l00413"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d1f09858a0f1bf99d2af07825c6d1e44d">00413</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d1f09858a0f1bf99d2af07825c6d1e44d">FCA</a> = <span class="charliteral">'A'</span>,
<a name="l00414"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9dcb06b8c85b5cef0dbdd6f6235a3c11b7">00414</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9dcb06b8c85b5cef0dbdd6f6235a3c11b7">FCB</a> = <span class="charliteral">'B'</span>,
<a name="l00415"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9db0dd46a194fe9d9eafb3f271b8accee3">00415</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9db0dd46a194fe9d9eafb3f271b8accee3">FCC</a> = <span class="charliteral">'C'</span>,
<a name="l00416"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9dc41f70c2df4e7040e25ba6f020c2e097">00416</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9dc41f70c2df4e7040e25ba6f020c2e097">FCD</a> = <span class="charliteral">'D'</span>,
<a name="l00417"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d5d57d443e20aad5516987e90f3e0fe8c">00417</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d5d57d443e20aad5516987e90f3e0fe8c">FCE</a> = <span class="charliteral">'E'</span>,
<a name="l00418"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9dd30692e27dd4d97b8fa10db249f5459d">00418</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9dd30692e27dd4d97b8fa10db249f5459d">FCF</a> = <span class="charliteral">'F'</span>,
<a name="l00419"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9dccf1b0f0e1401071f01b56888bb8e761">00419</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9dccf1b0f0e1401071f01b56888bb8e761">FCG</a> = <span class="charliteral">'G'</span>,
<a name="l00420"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d47d1ad29e57cfa7987819a06563ac246">00420</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d47d1ad29e57cfa7987819a06563ac246">FCH</a> = <span class="charliteral">'H'</span>,
<a name="l00421"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9dc3dbcbe2afcd6f1ee8b58d819258fafb">00421</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9dc3dbcbe2afcd6f1ee8b58d819258fafb">FCI</a> = <span class="charliteral">'I'</span>,
<a name="l00422"></a>00422 
<a name="l00423"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9dc9670eaca36e63f938095b0f7db3024f">00423</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9dc9670eaca36e63f938095b0f7db3024f">FCK</a> = <span class="charliteral">'K'</span>,
<a name="l00424"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9de24e992772f17547666bd64390faec3c">00424</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9de24e992772f17547666bd64390faec3c">FCL</a> = <span class="charliteral">'L'</span>,
<a name="l00425"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d6d65925a22b7b6156e5f55e5717e5f6a">00425</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d6d65925a22b7b6156e5f55e5717e5f6a">FCM</a> = <span class="charliteral">'M'</span>,
<a name="l00426"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9dd038ae6aa7a31abd7478ffcd2a139dac">00426</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9dd038ae6aa7a31abd7478ffcd2a139dac">FCN</a> = <span class="charliteral">'N'</span>,
<a name="l00427"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9dc7a063e66e6db36589d1505bbe4f7621">00427</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9dc7a063e66e6db36589d1505bbe4f7621">FCP</a> = <span class="charliteral">'P'</span>,
<a name="l00428"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d90742b1ea29d9640b02f75e688f53fb2">00428</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d90742b1ea29d9640b02f75e688f53fb2">FCQ</a> = <span class="charliteral">'Q'</span>,
<a name="l00429"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d5a580c96ceeff01db54303c9129d2018">00429</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d5a580c96ceeff01db54303c9129d2018">FCR</a> = <span class="charliteral">'R'</span>,
<a name="l00430"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9da23456053919a057772714ddcb3a7967">00430</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9da23456053919a057772714ddcb3a7967">FCS</a> = <span class="charliteral">'S'</span>,
<a name="l00431"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d0b81f0c151b1de799417832c2a04b410">00431</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d0b81f0c151b1de799417832c2a04b410">FCT</a> = <span class="charliteral">'T'</span>,
<a name="l00432"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d426b7099b980b05268099332d57db9c6">00432</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d426b7099b980b05268099332d57db9c6">FCU</a> = <span class="charliteral">'U'</span>,
<a name="l00433"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d6fd1bb3894fa2f40048cf186cf1a7c78">00433</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d6fd1bb3894fa2f40048cf186cf1a7c78">FCV</a> = <span class="charliteral">'V'</span>,
<a name="l00434"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d1feceee8bfa9801ca716165ecbf40c1e">00434</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d1feceee8bfa9801ca716165ecbf40c1e">FCW</a> = <span class="charliteral">'W'</span>,
<a name="l00435"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d0a66f8544c474014757ee7e082504d9b">00435</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d0a66f8544c474014757ee7e082504d9b">FCX</a> = <span class="charliteral">'X'</span>,
<a name="l00436"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d78545fc4736ba16d3e6e26bd16079660">00436</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d78545fc4736ba16d3e6e26bd16079660">FCY</a> = <span class="charliteral">'Y'</span>,
<a name="l00437"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d0a70daad65e2e7d9fccf44b85632ecd7">00437</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d0a70daad65e2e7d9fccf44b85632ecd7">FCZ</a> = <span class="charliteral">'Z'</span>,
<a name="l00438"></a>00438 
<a name="l00439"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d9bd4b37f9cfa5d9f538670a8aa8ebd6a">00439</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d9bd4b37f9cfa5d9f538670a8aa8ebd6a">fca</a> = <span class="charliteral">'a'</span>,
<a name="l00440"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d3607fd98d578a0d2a30bc3d5cf968d90">00440</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d3607fd98d578a0d2a30bc3d5cf968d90">fcb</a> = <span class="charliteral">'b'</span>,
<a name="l00441"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d623bb971191e09ef5870812d136ed3b0">00441</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d623bb971191e09ef5870812d136ed3b0">fcc</a> = <span class="charliteral">'c'</span>,
<a name="l00442"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d0d5c24790c02416d458fd7ec0a35cfdd">00442</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d0d5c24790c02416d458fd7ec0a35cfdd">fcd</a> = <span class="charliteral">'d'</span>,
<a name="l00443"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9dbe6f362784a8e8c9fcf9d31a14ec04a2">00443</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9dbe6f362784a8e8c9fcf9d31a14ec04a2">fce</a> = <span class="charliteral">'e'</span>,
<a name="l00444"></a>00444 
<a name="l00445"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d49ddf636a3d6f67e875b02bda076fd0b">00445</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d49ddf636a3d6f67e875b02bda076fd0b">fcf</a> = <span class="charliteral">'f'</span>,
<a name="l00446"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d333c928e08ffd2b8d677155d7903da32">00446</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d333c928e08ffd2b8d677155d7903da32">fch</a> = <span class="charliteral">'h'</span>,    
<a name="l00447"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d4d879ccce0543675e050db872a4a2fdf">00447</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d4d879ccce0543675e050db872a4a2fdf">fci</a> = <span class="charliteral">'i'</span>,
<a name="l00448"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d88a095521ca877b5b870acdb211798b9">00448</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d88a095521ca877b5b870acdb211798b9">fck</a> = <span class="charliteral">'k'</span>,
<a name="l00449"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d52e9f53a2732d35b1a0051eae58b95c7">00449</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d52e9f53a2732d35b1a0051eae58b95c7">fcl</a> = <span class="charliteral">'l'</span>,
<a name="l00450"></a>00450 
<a name="l00451"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d85d2be7c0348bd1fd097ba91a4f784ed">00451</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d85d2be7c0348bd1fd097ba91a4f784ed">fcm</a> = <span class="charliteral">'m'</span>,
<a name="l00452"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d6d4fa5a30650ef93022ba82ba24eae02">00452</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d6d4fa5a30650ef93022ba82ba24eae02">fcn</a> = <span class="charliteral">'n'</span>,
<a name="l00453"></a>00453     
<a name="l00454"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d6eb1cb14226bcae11815fa0bfeed7e82">00454</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d6eb1cb14226bcae11815fa0bfeed7e82">fcp</a> = <span class="charliteral">'p'</span>,
<a name="l00455"></a>00455 
<a name="l00456"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d70db88b308ce9c69b901da39b3a92055">00456</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d70db88b308ce9c69b901da39b3a92055">fcr</a> = <span class="charliteral">'r'</span>,
<a name="l00457"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9de19b347bedda8100dcdf076941313ff1">00457</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9de19b347bedda8100dcdf076941313ff1">fcs</a> = <span class="charliteral">'s'</span>,
<a name="l00458"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d22bb663c73a5d597f4e0f6ebe86f88e3">00458</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d22bb663c73a5d597f4e0f6ebe86f88e3">fct</a> = <span class="charliteral">'t'</span>,
<a name="l00459"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9dbbc9a72293cc8fb114fb10745c5ba564">00459</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9dbbc9a72293cc8fb114fb10745c5ba564">fcu</a> = <span class="charliteral">'u'</span>,
<a name="l00460"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9de760040d96c6d3acae07d0788a10dae8">00460</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9de760040d96c6d3acae07d0788a10dae8">fcw</a> = <span class="charliteral">'w'</span>,
<a name="l00461"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9db24ad6b559243fe7b100f948c059beca">00461</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9db24ad6b559243fe7b100f948c059beca">fcy</a> = <span class="charliteral">'y'</span>,  
<a name="l00462"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d03c302d0c10d45b375e7bd63a828bca8">00462</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d03c302d0c10d45b375e7bd63a828bca8">fcz</a> = <span class="charliteral">'z'</span>, 
<a name="l00463"></a>00463     
<a name="l00464"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9dec02c2e5f9e660c448f0d5a3abdb581e">00464</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9dec02c2e5f9e660c448f0d5a3abdb581e">fc1</a> = <span class="charliteral">'1'</span>,
<a name="l00465"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d100d6e6d98a8a52d85446dc320e3f3b3">00465</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d100d6e6d98a8a52d85446dc320e3f3b3">fc2</a> = <span class="charliteral">'2'</span>,
<a name="l00466"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d57d527f42a90f196dfee359ccba9ffe8">00466</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d57d527f42a90f196dfee359ccba9ffe8">fc3</a> = <span class="charliteral">'3'</span>,
<a name="l00467"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9dfde83d2bde845c63c91af46e442ff984">00467</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9dfde83d2bde845c63c91af46e442ff984">fc4</a> = <span class="charliteral">'4'</span>, 
<a name="l00468"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9ddb77c35921d726d62fd1278241d020f3">00468</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9ddb77c35921d726d62fd1278241d020f3">fc5</a> = <span class="charliteral">'5'</span>,
<a name="l00469"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9dbb222b4716338bea2937fb72d702ccf0">00469</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9dbb222b4716338bea2937fb72d702ccf0">fc6</a> = <span class="charliteral">'6'</span>,
<a name="l00470"></a>00470     
<a name="l00471"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d79c6ad8afc522e7188229e677296d032">00471</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9d79c6ad8afc522e7188229e677296d032">fc80</a> = <span class="stringliteral">'\x80'</span>,
<a name="l00472"></a><a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9def519a65e32dc0f89d632a66f1dd8d79">00472</a>     <a class="code" href="acq32busprot_8h.html#5051b9aa1555fcf055faa8e7f973ee9def519a65e32dc0f89d632a66f1dd8d79">keep_arm_sdt_happy</a> = 0xdead
<a name="l00473"></a>00473 };
<a name="l00474"></a>00474   
<a name="l00475"></a>00475 
<a name="l00476"></a><a class="code" href="acq32busprot_8h.html#44758298652d72b2dd8fb8275002cb3d">00476</a> <span class="keyword">enum</span> <a class="code" href="acq32busprot_8h.html#44758298652d72b2dd8fb8275002cb3d">ACQXX_FLAVOR</a> {
<a name="l00477"></a><a class="code" href="acq32busprot_8h.html#44758298652d72b2dd8fb8275002cb3db73892608482b4fd372c99c127ea2ec6">00477</a>     <a class="code" href="acq32busprot_8h.html#44758298652d72b2dd8fb8275002cb3db73892608482b4fd372c99c127ea2ec6">ACQXX_FLAVOR32</a> = 32,
<a name="l00478"></a><a class="code" href="acq32busprot_8h.html#44758298652d72b2dd8fb8275002cb3d0733ff72748894bc52886926536d3e57">00478</a>     <a class="code" href="acq32busprot_8h.html#44758298652d72b2dd8fb8275002cb3d0733ff72748894bc52886926536d3e57">ACQXX_FLAVOR16</a> = 16,
<a name="l00479"></a>00479     
<a name="l00480"></a><a class="code" href="acq32busprot_8h.html#44758298652d72b2dd8fb8275002cb3de82a26c691cafe3ddcdfe30e2c7ee587">00480</a>     <a class="code" href="acq32busprot_8h.html#44758298652d72b2dd8fb8275002cb3de82a26c691cafe3ddcdfe30e2c7ee587">ACQXX_FLAVOR_NOT_FOUND</a>
<a name="l00481"></a>00481 };
<a name="l00482"></a>00482 
<a name="l00483"></a>00483     
<a name="l00484"></a><a class="code" href="acq32busprot_8h.html#578c23f9646b2f372b07ec3253a62bcf">00484</a> <span class="preprocessor">#define MASK( bit )              (1U&lt;&lt;(bit))</span>
<a name="l00485"></a>00485 <span class="preprocessor"></span>
<a name="l00486"></a><a class="code" href="acq32busprot_8h.html#5b10b561a736f1a24f83ebcfdf8e726e">00486</a> <span class="preprocessor">#define BP_CI_ACK               MASK(BP_CI_ACK_BIT)</span>
<a name="l00487"></a><a class="code" href="acq32busprot_8h.html#4ee4c6e84b66353cb239234575d7386f">00487</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_CI_DONE              MASK(BP_CI_DONE_BIT)</span>
<a name="l00488"></a><a class="code" href="acq32busprot_8h.html#4fc67151980d7bb9aeb7eddd1a3b8cb3">00488</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_CI_A3                MASK(BP_CI_A3_BIT)</span>
<a name="l00489"></a><a class="code" href="acq32busprot_8h.html#72bebbfc66eb077dd39b02f396a13e24">00489</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_CI_A4                MASK(BP_CI_A4_BIT)</span>
<a name="l00490"></a><a class="code" href="acq32busprot_8h.html#41f89f57ef9a7c1e55be67d997417bb8">00490</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_CI_QUERY             MASK(BP_CI_QUERY_BIT)</span>
<a name="l00491"></a><a class="code" href="acq32busprot_8h.html#ab4246efee08a323bb0e679c0876c8ac">00491</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_CI_COMMAND           MASK(BP_CI_COMMAND_BIT)</span>
<a name="l00492"></a>00492 <span class="preprocessor"></span>
<a name="l00493"></a><a class="code" href="acq32busprot_8h.html#1766165a7eeea11bbc9a0e6d3a04ce82">00493</a> <span class="preprocessor">#define BP_GET_FUNCODE( command )   (((command)&gt;&gt;16)&amp;0x0ff)</span>
<a name="l00494"></a><a class="code" href="acq32busprot_8h.html#0f63a572a6319766442f1beb84fb11f1">00494</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_SET_FUNCODE( funcode )   ((funcode)&lt;&lt;16)</span>
<a name="l00495"></a>00495 <span class="preprocessor"></span>
<a name="l00496"></a><a class="code" href="acq32busprot_8h.html#e5e19773fb769ebc1a96e2fd1aafdf6c">00496</a> <span class="preprocessor">#define BP_GET_A1( command )        (((command)&gt;&gt;8)&amp;0x0ff)</span>
<a name="l00497"></a><a class="code" href="acq32busprot_8h.html#4c52bfc3e599b62dabdc522c104aa318">00497</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_SET_A1( a1 )             ((a1)&lt;&lt;8)</span>
<a name="l00498"></a>00498 <span class="preprocessor"></span>
<a name="l00499"></a><a class="code" href="acq32busprot_8h.html#5892ceabf43d31267a9cb456274586c3">00499</a> <span class="preprocessor">#define BP_GET_A2( command )        ((command)&amp;0x0ff)</span>
<a name="l00500"></a><a class="code" href="acq32busprot_8h.html#850ae2699e4f20159bc7db23f3b636b0">00500</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_SET_A2( a2 )             (a2)</span>
<a name="l00501"></a>00501 <span class="preprocessor"></span>
<a name="l00502"></a><a class="code" href="acq32busprot_8h.html#9dc44c90f06d5eacf4835435ea012d77">00502</a> <span class="preprocessor">#define BP_GET_MODE( status )       (((status)&gt;&gt;24)&amp;0x07f)</span>
<a name="l00503"></a><a class="code" href="acq32busprot_8h.html#177d071ab6c777d319ac87306a514b74">00503</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_SET_MODE( mode )         ((mode)&lt;&lt;24)</span>
<a name="l00504"></a>00504 <span class="preprocessor"></span>
<a name="l00505"></a><a class="code" href="acq32busprot_8h.html#eae8a291c2251bb25bd68157a4b6e575">00505</a> <span class="preprocessor">#define BP_GET_ERROR( status )      ((status&amp;0x80000000)!=0)</span>
<a name="l00506"></a><a class="code" href="acq32busprot_8h.html#4e6e7ddcdc0496a99cdbdbfedb04dd2d">00506</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_SET_ERROR( status )      ((status)&lt;&lt;31)</span>
<a name="l00507"></a>00507 <span class="preprocessor"></span>
<a name="l00508"></a><a class="code" href="acq32busprot_8h.html#24c3744fa03ded9ce7853879202414e1">00508</a> <span class="preprocessor">#define BP_GET_STATE( status )      (((status)&gt;&gt;16)&amp;0x0ff)</span>
<a name="l00509"></a><a class="code" href="acq32busprot_8h.html#1791d2a7ce5df4b7559cfd04e62a274a">00509</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_SET_STATE( state )       ((state)&lt;&lt;16)</span>
<a name="l00510"></a>00510 <span class="preprocessor"></span>
<a name="l00511"></a>00511 <span class="comment">/*</span>
<a name="l00512"></a>00512 <span class="comment"> * CYCLE is bumped on every setArm</span>
<a name="l00513"></a>00513 <span class="comment"> */</span>
<a name="l00514"></a><a class="code" href="acq32busprot_8h.html#d48da24df460ac0d4553450e34eea597">00514</a> <span class="preprocessor">#define BP_GET_CYCLE( status )      (((status)&gt;&gt;12)&amp;0xf)</span>
<a name="l00515"></a><a class="code" href="acq32busprot_8h.html#1b818f3a89bbbc69b86a73b490c79e51">00515</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_SET_CYCLE( status )      ((status)&lt;&lt;12)</span>
<a name="l00516"></a>00516 <span class="preprocessor"></span>
<a name="l00517"></a><a class="code" href="acq32busprot_8h.html#0306bed14bc44a82da002cb8144d8f90">00517</a> <span class="preprocessor">#define BP_GET_HEARTBEAT( status )  ((status)&amp;0x0fff)</span>
<a name="l00518"></a><a class="code" href="acq32busprot_8h.html#bd2e5a6d72194e2f5c559ed04ba4965a">00518</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_SET_HEARTBEAT( status )  ((status)&amp;0x0fff)</span>
<a name="l00519"></a>00519 <span class="preprocessor"></span>
<a name="l00520"></a>00520 <span class="comment">/*</span>
<a name="l00521"></a>00521 <span class="comment"> * valid function codes</span>
<a name="l00522"></a>00522 <span class="comment"> */</span>
<a name="l00523"></a>00523 
<a name="l00524"></a><a class="code" href="acq32busprot_8h.html#1db29bbcf6de86351c2a99bdc1eeaf57">00524</a> <span class="preprocessor">#define BP_FC_SET_DEBUG    fcb        // debug level in A1</span>
<a name="l00525"></a>00525 <span class="preprocessor"></span>
<a name="l00526"></a><a class="code" href="acq32busprot_8h.html#9b72f3114317f33fd3ed83d0131c6653">00526</a> <span class="preprocessor">#define BP_FC_SET_INTERRUPTS FCI    // 0 or 1 in A1</span>
<a name="l00527"></a>00527 <span class="preprocessor"></span>
<a name="l00528"></a><a class="code" href="acq32busprot_8h.html#e5f69a067e2d06116fe9a79d834dc167">00528</a> <span class="keyword">enum</span> <a class="code" href="acq32busprot_8h.html#e5f69a067e2d06116fe9a79d834dc167">ACQ32_DIOSELECT</a> {
<a name="l00529"></a><a class="code" href="acq32busprot_8h.html#e5f69a067e2d06116fe9a79d834dc167ef81c397947c7a3fe37ebf8814c21f3c">00529</a>     <a class="code" href="acq32busprot_8h.html#e5f69a067e2d06116fe9a79d834dc167ef81c397947c7a3fe37ebf8814c21f3c">ACQ32_DIO_NONE</a> = 0,
<a name="l00530"></a><a class="code" href="acq32busprot_8h.html#e5f69a067e2d06116fe9a79d834dc167a90e6b4ed527472ff5ff695c05734427">00530</a>     <a class="code" href="acq32busprot_8h.html#e5f69a067e2d06116fe9a79d834dc167a90e6b4ed527472ff5ff695c05734427">ACQ32_DI_0</a> = <a class="code" href="acq32busprot_8h.html#578c23f9646b2f372b07ec3253a62bcf">MASK</a>(0),
<a name="l00531"></a><a class="code" href="acq32busprot_8h.html#e5f69a067e2d06116fe9a79d834dc1674df0441047961a082e6c4ad9a3e56a0e">00531</a>     <a class="code" href="acq32busprot_8h.html#e5f69a067e2d06116fe9a79d834dc1674df0441047961a082e6c4ad9a3e56a0e">ACQ32_DI_1</a> = <a class="code" href="acq32busprot_8h.html#578c23f9646b2f372b07ec3253a62bcf">MASK</a>(1),
<a name="l00532"></a><a class="code" href="acq32busprot_8h.html#e5f69a067e2d06116fe9a79d834dc167e624d6a0d93201a4210c644b5d4664c4">00532</a>     <a class="code" href="acq32busprot_8h.html#e5f69a067e2d06116fe9a79d834dc167e624d6a0d93201a4210c644b5d4664c4">ACQ32_DI_2</a> = <a class="code" href="acq32busprot_8h.html#578c23f9646b2f372b07ec3253a62bcf">MASK</a>(2),
<a name="l00533"></a><a class="code" href="acq32busprot_8h.html#e5f69a067e2d06116fe9a79d834dc167930e643962e50e9c9a8218bd35b637bd">00533</a>     <a class="code" href="acq32busprot_8h.html#e5f69a067e2d06116fe9a79d834dc167930e643962e50e9c9a8218bd35b637bd">ACQ32_DI_3</a> = <a class="code" href="acq32busprot_8h.html#578c23f9646b2f372b07ec3253a62bcf">MASK</a>(3),
<a name="l00534"></a><a class="code" href="acq32busprot_8h.html#e5f69a067e2d06116fe9a79d834dc167b54bd257766763f682b2e1425644c777">00534</a>     <a class="code" href="acq32busprot_8h.html#e5f69a067e2d06116fe9a79d834dc167b54bd257766763f682b2e1425644c777">ACQ32_DI_4</a> = <a class="code" href="acq32busprot_8h.html#578c23f9646b2f372b07ec3253a62bcf">MASK</a>(4),
<a name="l00535"></a><a class="code" href="acq32busprot_8h.html#e5f69a067e2d06116fe9a79d834dc167d189aef054499d65ace43474838093e4">00535</a>     <a class="code" href="acq32busprot_8h.html#e5f69a067e2d06116fe9a79d834dc167d189aef054499d65ace43474838093e4">ACQ32_DI_5</a> = <a class="code" href="acq32busprot_8h.html#578c23f9646b2f372b07ec3253a62bcf">MASK</a>(5),
<a name="l00536"></a><a class="code" href="acq32busprot_8h.html#e5f69a067e2d06116fe9a79d834dc1675745d598d5ca357f75c51ee789167c13">00536</a>     <a class="code" href="acq32busprot_8h.html#e5f69a067e2d06116fe9a79d834dc1675745d598d5ca357f75c51ee789167c13">ACQ32_DO_0</a> = <a class="code" href="acq32busprot_8h.html#578c23f9646b2f372b07ec3253a62bcf">MASK</a>(0),
<a name="l00537"></a><a class="code" href="acq32busprot_8h.html#e5f69a067e2d06116fe9a79d834dc16792f2abac71e18eb1aa16015293797ec9">00537</a>     <a class="code" href="acq32busprot_8h.html#e5f69a067e2d06116fe9a79d834dc16792f2abac71e18eb1aa16015293797ec9">ACQ32_DO_1</a> = <a class="code" href="acq32busprot_8h.html#578c23f9646b2f372b07ec3253a62bcf">MASK</a>(1),
<a name="l00538"></a><a class="code" href="acq32busprot_8h.html#e5f69a067e2d06116fe9a79d834dc1678d4949606af0425ca95d56eb1e823ef9">00538</a>     <a class="code" href="acq32busprot_8h.html#e5f69a067e2d06116fe9a79d834dc1678d4949606af0425ca95d56eb1e823ef9">ACQ32_DO_2</a> = <a class="code" href="acq32busprot_8h.html#578c23f9646b2f372b07ec3253a62bcf">MASK</a>(2),
<a name="l00539"></a><a class="code" href="acq32busprot_8h.html#e5f69a067e2d06116fe9a79d834dc1675f4beffbc5f3751d47feddf313f000ce">00539</a>     <a class="code" href="acq32busprot_8h.html#e5f69a067e2d06116fe9a79d834dc1675f4beffbc5f3751d47feddf313f000ce">ACQ32_DO_3</a> = <a class="code" href="acq32busprot_8h.html#578c23f9646b2f372b07ec3253a62bcf">MASK</a>(3),
<a name="l00540"></a><a class="code" href="acq32busprot_8h.html#e5f69a067e2d06116fe9a79d834dc167dfd3dd646209fcc8ce7399da45c154be">00540</a>     <a class="code" href="acq32busprot_8h.html#e5f69a067e2d06116fe9a79d834dc167dfd3dd646209fcc8ce7399da45c154be">ACQ32_DO_4</a> = <a class="code" href="acq32busprot_8h.html#578c23f9646b2f372b07ec3253a62bcf">MASK</a>(4),
<a name="l00541"></a><a class="code" href="acq32busprot_8h.html#e5f69a067e2d06116fe9a79d834dc167681cb415a9b8953a54aa104c2cfa4b64">00541</a>     <a class="code" href="acq32busprot_8h.html#e5f69a067e2d06116fe9a79d834dc167681cb415a9b8953a54aa104c2cfa4b64">ACQ32_DO_5</a> = <a class="code" href="acq32busprot_8h.html#578c23f9646b2f372b07ec3253a62bcf">MASK</a>(5)
<a name="l00542"></a>00542 };
<a name="l00543"></a>00543 
<a name="l00544"></a><a class="code" href="acq32busprot_8h.html#ad60471772a1e20c2f2161dec6398c47">00544</a> <span class="preprocessor">#define BP_FC_SET_INTCLOCK   fci    // A3 = freq in Hz </span>
<a name="l00545"></a>00545 <span class="preprocessor"></span>                                    <span class="comment">// [A2{ACQ32_DIOSELECT}==MASTER] output</span>
<a name="l00546"></a><a class="code" href="acq32busprot_8h.html#477e17f882f8d0dc4818e6aec8df36f2">00546</a> <span class="preprocessor">#define BP_FC_GET_INTCLOCK       fci    // returns A3= freq in Hz, A2 master line</span>
<a name="l00547"></a>00547 <span class="preprocessor"></span>
<a name="l00548"></a><a class="code" href="acq32busprot_8h.html#aeb269f890c6e9b649922cc91cc2d892">00548</a> <span class="preprocessor">#define BP_FC_SET_EXTCLOCK   fce    // A1 {ACQ32_DIOSELECT} == incoming, </span>
<a name="l00549"></a>00549 <span class="preprocessor"></span>                                    <span class="comment">// [A2{ACQ32_DIOSELECT} == outgoing A3 is div ]</span>
<a name="l00550"></a><a class="code" href="acq32busprot_8h.html#e9de1202d598951386c388a4c5d257be">00550</a> <span class="preprocessor">#define BP_FC_GET_EXTCLOCK   fce    // returns A1, A2 state</span>
<a name="l00551"></a>00551 <span class="preprocessor"></span>                                    
<a name="l00552"></a><a class="code" href="acq32busprot_8h.html#b11286d363733205d4ad7b57c77db58b">00552</a> <span class="preprocessor">#define BP_FC_SET_TAGGING    FCT    // 0 or 1 in A1</span>
<a name="l00553"></a>00553 <span class="preprocessor"></span>
<a name="l00554"></a><a class="code" href="acq32busprot_8h.html#28c30d154e2b1b0537b9eb7de6ac1b43">00554</a> <span class="preprocessor">#define BP_FC_SET_HOST_DMABUF FCB       // A3 = pci addr, A4 length in bytes</span>
<a name="l00555"></a>00555 <span class="preprocessor"></span>
<a name="l00556"></a><a class="code" href="acq32busprot_8h.html#4a33f0d33d96362eec04af1fd0c3a959">00556</a> <span class="preprocessor">#define BP_FC_SET_SPIN        FCY    // spin to allow flash programming</span>
<a name="l00557"></a>00557 <span class="preprocessor"></span>
<a name="l00558"></a><a class="code" href="acq32busprot_8h.html#ac8e530b453b39296cf278663e908f96">00558</a> <span class="preprocessor">#define BP_FC_BIG_DUMP  FCU // A3 = host pci addr, A4 length in bytes</span>
<a name="l00559"></a>00559 <span class="preprocessor"></span>
<a name="l00560"></a><a class="code" href="acq32busprot_8h.html#1a4325148e4a2e1b8112f4ad415d6eee">00560</a> <span class="preprocessor">#define BP_FC_GET_FWREV FCR         // firmware rev returned via I2O</span>
<a name="l00561"></a><a class="code" href="acq32busprot_8h.html#9f09db2c6001c95e42b9c7253c8f0194">00561</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_GET_CONFIG FCV        // lca rev, id returned via I2O</span>
<a name="l00562"></a><a class="code" href="acq32busprot_8h.html#5690ce6a9d1b055a97386ad87ddcc313">00562</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_GET_CALINFO FCW       // cal date returned via I2O</span>
<a name="l00563"></a><a class="code" href="acq32busprot_8h.html#ccd0f7074beda78a3bcd5b3cea212c28">00563</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_GET_CAPTURESTATS FCE  // get capture info A1 = phase</span>
<a name="l00564"></a><a class="code" href="acq32busprot_8h.html#1db6557c8d9aad03e97bb95d431084c3">00564</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_DEBUG_GET_REGS FCQ    // return regs page via I2O</span>
<a name="l00565"></a>00565 <span class="preprocessor"></span>
<a name="l00566"></a><a class="code" href="acq32busprot_8h.html#a14e6dba7d62569fd16568714192585d">00566</a> <span class="preprocessor">#define BP_FC_GET_NUMSAMPLES FCN // returns Numsamples in A3</span>
<a name="l00567"></a>00567 <span class="preprocessor"></span>
<a name="l00568"></a>00568 
<a name="l00569"></a>00569 
<a name="l00570"></a><a class="code" href="acq32busprot_8h.html#170284b281d0e3183bf5c02b1f4840db">00570</a> <span class="preprocessor">#define BP_FC_SET_ROUTE fcr</span>
<a name="l00571"></a>00571 <span class="preprocessor"></span><span class="comment">/*</span>
<a name="l00572"></a>00572 <span class="comment"> * additional pram for BP_FC_SET_ROUTE defines mem interleave in A1</span>
<a name="l00573"></a>00573 <span class="comment"> * RAW - physical order</span>
<a name="l00574"></a>00574 <span class="comment"> * ROW - no deinterleave, logical order</span>
<a name="l00575"></a>00575 <span class="comment"> * CHAN - sort by channel</span>
<a name="l00576"></a>00576 <span class="comment"> */</span>
<a name="l00577"></a><a class="code" href="acq32busprot_8h.html#50fdbdec8b648b118546782dbd2c633a">00577</a> <span class="preprocessor">#define BP_FC_SET_MASK_RAW       'r'</span>
<a name="l00578"></a><a class="code" href="acq32busprot_8h.html#f24d9faafd324a29d6e4ab5fb68de370">00578</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SET_MASK_ROW       'R'</span>
<a name="l00579"></a><a class="code" href="acq32busprot_8h.html#4ceff6b04be6181d59e457449fbee5b4">00579</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SET_MASK_CHAN      'C'</span>
<a name="l00580"></a>00580 <span class="preprocessor"></span>
<a name="l00581"></a>00581 
<a name="l00582"></a><a class="code" href="acq32busprot_8h.html#6ed2be95c74a6369542ebea1d3fe0ac4">00582</a> <span class="preprocessor">#define BP_FC_SET_CALDACS FCC    // data for 2 channels in A3, A4, repeat*16</span>
<a name="l00583"></a>00583 <span class="preprocessor"></span>
<a name="l00584"></a><a class="code" href="acq32busprot_8h.html#fc76b5a80a8b40564dd0b92ab5426d34">00584</a> <span class="preprocessor">#define BP_FC_SET_DACPOT  FCP    // set dac pot</span>
<a name="l00585"></a><a class="code" href="acq32busprot_8h.html#f12b48cf0bf64b4b4fd649e968334dac">00585</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SET_DACPOT_UP     BP_SET_A2( 'u' )</span>
<a name="l00586"></a><a class="code" href="acq32busprot_8h.html#5999111bd682de852b103576dabee37e">00586</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SET_DACPOT_DN     BP_SET_A2( 'd' )</span>
<a name="l00587"></a>00587 <span class="preprocessor"></span>
<a name="l00588"></a>00588 
<a name="l00589"></a><a class="code" href="acq32busprot_8h.html#d8e5542aed4bcfe84a98b538544387e6">00589</a> <span class="preprocessor">#define BP_FC_SET_MODE    FCM    // mode in A1, n-transient A3</span>
<a name="l00590"></a><a class="code" href="acq32busprot_8h.html#8c417ee388791de3ab3159a03be12d8c">00590</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SET_MODE_GC FCG    // pre in A4, post in A3, AItrig DIX A2</span>
<a name="l00591"></a><a class="code" href="acq32busprot_8h.html#6df970f832a050cb59df48d270aff0e3">00591</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SET_MODE_TC FCH    // pre in A4, post in A3 TRIGGER activation</span>
<a name="l00592"></a>00592 <span class="preprocessor"></span>
<a name="l00593"></a><a class="code" href="acq32busprot_8h.html#ecc681343ac21923e720b09903afab0c">00593</a> <span class="preprocessor">#define BP_FC_SM_FLAGS_DEB 0x80  // debounce trigger, OR into AItrig DIX</span>
<a name="l00594"></a><a class="code" href="acq32busprot_8h.html#78e09ebb3e12252ad4385cb1955cf095">00594</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SM_FLAGS_NEM 0x40  // turn off embedded trigger bit</span>
<a name="l00595"></a>00595 <span class="preprocessor"></span>
<a name="l00596"></a><a class="code" href="acq32busprot_8h.html#cbda133d836d3c28eda96d625953deed">00596</a> <span class="preprocessor">#define BP_FC_SET_ARM     FCA    </span>
<a name="l00597"></a><a class="code" href="acq32busprot_8h.html#827ae2b60084084995402700c98e17af">00597</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SET_ABORT   FCZ</span>
<a name="l00598"></a><a class="code" href="acq32busprot_8h.html#240f0bbdd86fa977111d4df592f5c5bb">00598</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SET_MASK    FCK    // 32 bit mask in A3, [boost in A4]</span>
<a name="l00599"></a><a class="code" href="acq32busprot_8h.html#c8c67a696b85b86da20cdcb47718705e">00599</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_GET_MASK    FCK    // 32 bit mask in A3</span>
<a name="l00600"></a>00600 <span class="preprocessor"></span>
<a name="l00601"></a>00601 <span class="comment">/* configuration, setup questions */</span>
<a name="l00602"></a>00602 
<a name="l00603"></a><a class="code" href="acq32busprot_8h.html#8cd5ac323dba8292918679c30a5d1d38">00603</a> <span class="preprocessor">#define BPFC_GET_MODEL     fck    // model in A1, subtype in A2</span>
<a name="l00604"></a><a class="code" href="acq32busprot_8h.html#55615e1c499a8ae7c3d294ca059ac173">00604</a> <span class="preprocessor"></span><span class="preprocessor">#define BPFC_GET_NCHANNELS fcn    // #input channels in A1, outputs in A2</span>
<a name="l00605"></a><a class="code" href="acq32busprot_8h.html#15e0e97d7134c337505d6c1b707900ed">00605</a> <span class="preprocessor"></span><span class="preprocessor">#define BPFC_GET_RANGE     fcm    // input range in A1, output range in A2</span>
<a name="l00606"></a>00606 <span class="preprocessor"></span>
<a name="l00607"></a><a class="code" href="acq32busprot_8h.html#2ae7623d9f04d32dc38a7069fd560b00">00607</a> <span class="keyword">enum</span> <a class="code" href="acq32busprot_8h.html#2ae7623d9f04d32dc38a7069fd560b00">BPFC_RANGE</a> {
<a name="l00608"></a><a class="code" href="acq32busprot_8h.html#2ae7623d9f04d32dc38a7069fd560b00e355bc99050489d78bb6bd2f2a83fca1">00608</a>     <a class="code" href="acq32busprot_8h.html#2ae7623d9f04d32dc38a7069fd560b00e355bc99050489d78bb6bd2f2a83fca1">BPFC_RANGE_UNKNOWN</a> = 0,
<a name="l00609"></a><a class="code" href="acq32busprot_8h.html#2ae7623d9f04d32dc38a7069fd560b00ed4fe6a97ed39206efd21d020b9a4235">00609</a>     <a class="code" href="acq32busprot_8h.html#2ae7623d9f04d32dc38a7069fd560b00ed4fe6a97ed39206efd21d020b9a4235">BPFC_RANGE_10_10</a> = 1,        <span class="comment">// +/- 10V</span>
<a name="l00610"></a><a class="code" href="acq32busprot_8h.html#2ae7623d9f04d32dc38a7069fd560b0092acf1253d4b10662e2a2009ea049acf">00610</a>     <a class="code" href="acq32busprot_8h.html#2ae7623d9f04d32dc38a7069fd560b0092acf1253d4b10662e2a2009ea049acf">BPFC_RANGE_05_05</a>,       
<a name="l00611"></a><a class="code" href="acq32busprot_8h.html#2ae7623d9f04d32dc38a7069fd560b006dab5edba5034f2de5d7d6bc80d41815">00611</a>     <a class="code" href="acq32busprot_8h.html#2ae7623d9f04d32dc38a7069fd560b006dab5edba5034f2de5d7d6bc80d41815">BPFC_RANGE_02_02</a>,
<a name="l00612"></a><a class="code" href="acq32busprot_8h.html#2ae7623d9f04d32dc38a7069fd560b003d525f69882e4e3f8f8c1223d5523f1b">00612</a>     <a class="code" href="acq32busprot_8h.html#2ae7623d9f04d32dc38a7069fd560b003d525f69882e4e3f8f8c1223d5523f1b">BPFC_RANGE_01_01</a>,
<a name="l00613"></a><a class="code" href="acq32busprot_8h.html#2ae7623d9f04d32dc38a7069fd560b00a73ba18e3cace0e84e4faf2e6982f84a">00613</a>     <a class="code" href="acq32busprot_8h.html#2ae7623d9f04d32dc38a7069fd560b00a73ba18e3cace0e84e4faf2e6982f84a">BPFC_RANGE_2p5_2p5</a>
<a name="l00614"></a>00614 };
<a name="l00615"></a>00615 
<a name="l00616"></a>00616 
<a name="l00617"></a>00617 <span class="comment">/* </span>
<a name="l00618"></a>00618 <span class="comment"> * AO, DO Waveform output</span>
<a name="l00619"></a>00619 <span class="comment"> */</span>
<a name="l00620"></a>00620  
<a name="l00621"></a><a class="code" href="acq32busprot_8h.html#2e1b08f051f09403ab2a8f2c83794f6e">00621</a> <span class="preprocessor">#define BP_FC_RESERVE_AO  fca    // samples to reserve in A3</span>
<a name="l00622"></a><a class="code" href="acq32busprot_8h.html#5f4a31a91427f6c24d90d1866176dd6c">00622</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_QUERY_AO    fca    // returns reserved samples in A3</span>
<a name="l00623"></a>00623 <span class="preprocessor"></span>
<a name="l00624"></a><a class="code" href="acq32busprot_8h.html#cce5509a1b76c79ef5f8d5de674a1cf4">00624</a> <span class="preprocessor">#define BP_FC_SET_DACS    FCD    // data for 2 channels in A3, flags A2</span>
<a name="l00625"></a><a class="code" href="acq32busprot_8h.html#66fc0068aad2ef0fab7e8e23761a9e15">00625</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SET_DO      fcf    // data in A3, flags A0</span>
<a name="l00626"></a>00626 <span class="preprocessor"></span>
<a name="l00627"></a>00627     <span class="comment">/*</span>
<a name="l00628"></a>00628 <span class="comment">     * flags are:</span>
<a name="l00629"></a>00629 <span class="comment">     */</span>
<a name="l00630"></a>00630 
<a name="l00631"></a>00631     <span class="comment">/* </span>
<a name="l00632"></a>00632 <span class="comment">     * A1 == 'F' means "function" else immediate</span>
<a name="l00633"></a>00633 <span class="comment">     */</span>
<a name="l00634"></a><a class="code" href="acq32busprot_8h.html#c19da548ec7f41a1ba0034a10f928ada">00634</a> <span class="preprocessor">#define BP_FC_SET_XO_FUNCTION 'F'</span>
<a name="l00635"></a>00635 <span class="preprocessor"></span> 
<a name="l00636"></a><a class="code" href="acq32busprot_8h.html#573de6a56d8b2ac8d4aa121337ee2355">00636</a> <span class="preprocessor">#define BP_FC_SET_XO_CLEAR 0x80    // clear list, then add datum</span>
<a name="l00637"></a><a class="code" href="acq32busprot_8h.html#d620aef02bae3cda5571f4cd0e40d27b">00637</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SET_XO_END   0x40    // end of list (opt)</span>
<a name="l00638"></a><a class="code" href="acq32busprot_8h.html#06c19e6334333933b78ed9726ca52a6b">00638</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SET_XO_DATA  0x02    // data in A3</span>
<a name="l00639"></a><a class="code" href="acq32busprot_8h.html#ff92d45391d62f5f9132e78a70981bdc">00639</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SET_XO_CYCLE 0x01    // list is cyclic.</span>
<a name="l00640"></a>00640 <span class="preprocessor"></span>
<a name="l00641"></a>00641 
<a name="l00642"></a>00642 <span class="comment">/* </span>
<a name="l00643"></a>00643 <span class="comment"> * Signal Conditioning SC1</span>
<a name="l00644"></a>00644 <span class="comment"> */</span>
<a name="l00645"></a><a class="code" href="acq32busprot_8h.html#b54c0cb287e94bfe2c95e900bed584c0">00645</a> <span class="preprocessor">#define BP_FC_SC_GET_DIO     fcd    // 32 bit mask in A3</span>
<a name="l00646"></a><a class="code" href="acq32busprot_8h.html#f253957fd5a3d523ff845a6e2e301255">00646</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SC_SET_DIO     fcd    // 32 I/O mask in A3 + O values in A4</span>
<a name="l00647"></a>00647 <span class="preprocessor"></span>
<a name="l00648"></a><a class="code" href="acq32busprot_8h.html#fd55b7949847c5c8091e550df1e600a1">00648</a> <span class="preprocessor">#define BP_FC_SC_SET_CHANNEL fcc    // 32 bit functional code in A3</span>
<a name="l00649"></a>00649 <span class="preprocessor"></span><span class="comment">/*</span>
<a name="l00650"></a>00650 <span class="comment"> * A3 arg def for BP_FC_SC_SET_CHANNEL</span>
<a name="l00651"></a>00651 <span class="comment"> *</span>
<a name="l00652"></a>00652 <span class="comment"> */</span>
<a name="l00653"></a><a class="code" href="acq32busprot_8h.html#133563d9ff7988ee22a669292b7a88c8">00653</a> <span class="preprocessor">#define BP_FC_SC_SET_CHANNEL_CH_LSB     24</span>
<a name="l00654"></a><a class="code" href="acq32busprot_8h.html#df60be480e9c2992571d25f1f39fb11a">00654</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SC_SET_CHANNEL_G1_LSB     16</span>
<a name="l00655"></a><a class="code" href="acq32busprot_8h.html#2f2de0bcd8ddc27634c2ec31b819e634">00655</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SC_SET_CHANNEL_G2_LSB      8</span>
<a name="l00656"></a><a class="code" href="acq32busprot_8h.html#04fcbaf383a2f4b0de63e1521215a187">00656</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SC_SET_CHANNEL_V_EX_LSB    0</span>
<a name="l00657"></a>00657 <span class="preprocessor"></span>
<a name="l00658"></a><a class="code" href="acq32busprot_8h.html#486ad0a058bfa85141a6ea6a81a5a081">00658</a> <span class="preprocessor">#define BYTE_ENCODE_BIT( lsb, val )  ((val)&lt;&lt;(lsb))</span>
<a name="l00659"></a><a class="code" href="acq32busprot_8h.html#e9ac608ca3379b27eb41906db35c3c8c">00659</a> <span class="preprocessor"></span><span class="preprocessor">#define BYTE_DECODE_BIT( lsb, val )  (((val)&gt;&gt;(lsb))&amp;0xff)</span>
<a name="l00660"></a>00660 <span class="preprocessor"></span>
<a name="l00661"></a>00661 
<a name="l00662"></a>00662 
<a name="l00663"></a>00663 
<a name="l00664"></a><a class="code" href="acq32busprot_8h.html#a31d68cb4877f0c849c2236cf4f4e944">00664</a> <span class="preprocessor">#define BP_FC_SC_POT         fcp    // {board}{volts} in A1</span>
<a name="l00665"></a>00665 <span class="preprocessor"></span><span class="comment">/*</span>
<a name="l00666"></a>00666 <span class="comment"> * A1 arg def for BP_FC_SC_POT</span>
<a name="l00667"></a>00667 <span class="comment"> */</span>
<a name="l00668"></a>00668 
<a name="l00669"></a><a class="code" href="acq32busprot_8h.html#efb03bae4e9c8add350e40fa74f6be66">00669</a> <span class="preprocessor">#define BP_FC_SC_POT_BOARD0     0x00</span>
<a name="l00670"></a><a class="code" href="acq32busprot_8h.html#98aa058fb238c66e7707c8bfd97f629c">00670</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SC_POT_BOARD1     0x80</span>
<a name="l00671"></a>00671 <span class="preprocessor"></span>
<a name="l00672"></a><a class="code" href="acq32busprot_8h.html#57008b55ad55c974d239c22e7d5e1b95">00672</a> <span class="preprocessor">#define BP_FC_SC_POT_1V         0x00</span>
<a name="l00673"></a><a class="code" href="acq32busprot_8h.html#015893f8c7bde86019a94c6777566469">00673</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SC_POT_2V         0x04</span>
<a name="l00674"></a><a class="code" href="acq32busprot_8h.html#9040e4442e26ec268e00b0be5ce4ffbe">00674</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SC_POT_5V         0x08</span>
<a name="l00675"></a><a class="code" href="acq32busprot_8h.html#89894c143ca58b20f0a373feee706222">00675</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SC_POT_10V        0x0c</span>
<a name="l00676"></a>00676 <span class="preprocessor"></span>
<a name="l00677"></a>00677 
<a name="l00678"></a>00678 
<a name="l00679"></a>00679 
<a name="l00680"></a>00680 
<a name="l00681"></a>00681 <span class="comment">/*</span>
<a name="l00682"></a>00682 <span class="comment"> * set the data distributor - post processing options</span>
<a name="l00683"></a>00683 <span class="comment"> */</span>
<a name="l00684"></a><a class="code" href="acq32busprot_8h.html#533432c5b9f12f052841b0f5676313a8">00684</a> <span class="preprocessor">#define BP_FC_SET_DISTRIBUTOR fcs  // A1==0 normal, other magics sel special rt</span>
<a name="l00685"></a><a class="code" href="acq32busprot_8h.html#556ebcdfd9be5657f95ede4ebad474d6">00685</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SET_DIST_NORMAL    0</span>
<a name="l00686"></a><a class="code" href="acq32busprot_8h.html#cb1ddf0f54472767aef2adb9e0243ae4">00686</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SET_DIST_ID        1</span>
<a name="l00687"></a><a class="code" href="acq32busprot_8h.html#5853bfa2976826b87391edd2437dd268">00687</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SET_DIST_ID_ALL    2</span>
<a name="l00688"></a><a class="code" href="acq32busprot_8h.html#2a9da41feb946645f990501b9f259a89">00688</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SET_DATA_TRIGGER               0x0d</span>
<a name="l00689"></a><a class="code" href="acq32busprot_8h.html#adc6f82e4f3654f2f198d33057576360">00689</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SET_DATA_TRIGGER_MULTI         0x0e</span>
<a name="l00690"></a><a class="code" href="acq32busprot_8h.html#a9c0be36d0f2346dc3989695c475d0fb">00690</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SET_DATA_EDGE_TRIGGER          0x1d</span>
<a name="l00691"></a><a class="code" href="acq32busprot_8h.html#3d2fd8b88368fb0888daa86851230452">00691</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SET_DATA_EDGE_TRIGGER_MULTI    0x1e</span>
<a name="l00692"></a><a class="code" href="acq32busprot_8h.html#b13a620443385317b61ec1e9f0017791">00692</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SET_DATA_FAST_TRIGGER_MULTI    0x1f</span>
<a name="l00693"></a>00693 <span class="preprocessor"></span>
<a name="l00694"></a>00694 
<a name="l00695"></a>00695 <span class="comment">/*</span>
<a name="l00696"></a>00696 <span class="comment"> * calibration - use of multiple calsets</span>
<a name="l00697"></a>00697 <span class="comment"> */</span>
<a name="l00698"></a><a class="code" href="acq32busprot_8h.html#9fc471088d3cd457d436cd51d3af69a1">00698</a> <span class="preprocessor">#define BP_FC_SELECT_CALSET    fcl    // calset {0-7} in A1</span>
<a name="l00699"></a>00699 <span class="preprocessor"></span>
<a name="l00700"></a>00700 
<a name="l00701"></a>00701 <span class="comment">/*</span>
<a name="l00702"></a>00702 <span class="comment"> * trigger compensation</span>
<a name="l00703"></a>00703 <span class="comment"> *</span>
<a name="l00704"></a>00704 <span class="comment"> * BP_FC_GET_ATRIGGER ask the board if it declared an ATRIGGER,</span>
<a name="l00705"></a>00705 <span class="comment"> * and if it did, to report the channel and offset</span>
<a name="l00706"></a>00706 <span class="comment"> * The tell all the boards to adjust by offset using BP_FC_ADJUST_TRIGGER</span>
<a name="l00707"></a>00707 <span class="comment"> */</span>
<a name="l00708"></a>00708  
<a name="l00709"></a><a class="code" href="acq32busprot_8h.html#7fda99262cc5a22bdaa7635ce6787162">00709</a> <span class="preprocessor">#define BP_FC_GET_ATRIGGER      fc80 // returns adj in A1, ch in A2 {1..32}</span>
<a name="l00710"></a><a class="code" href="acq32busprot_8h.html#f33f6a679e1685d935dc228d58a2fa92">00710</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_ADJUST_TRIGGER    fc80 // adjust (signed) in A1</span>
<a name="l00711"></a>00711 <span class="preprocessor"></span>
<a name="l00712"></a>00712 <span class="comment">/*</span>
<a name="l00713"></a>00713 <span class="comment"> * GUT - it's easier to use mbox than i2o after all, so</span>
<a name="l00714"></a>00714 <span class="comment"> */</span>
<a name="l00715"></a><a class="code" href="acq32busprot_8h.html#9b4d41254853ab8ffecc81dbc8d8e44d">00715</a> <span class="keyword">enum</span> <a class="code" href="acq32busprot_8h.html#9b4d41254853ab8ffecc81dbc8d8e44d">PHASE_PROPERTY</a> {
<a name="l00716"></a><a class="code" href="acq32busprot_8h.html#9b4d41254853ab8ffecc81dbc8d8e44d5a2370937ad315ad19bf3ee6ba26fc81">00716</a>     <a class="code" href="acq32busprot_8h.html#9b4d41254853ab8ffecc81dbc8d8e44d5a2370937ad315ad19bf3ee6ba26fc81">PP_REQUESTED_SAMPLES</a> = 1,
<a name="l00717"></a><a class="code" href="acq32busprot_8h.html#9b4d41254853ab8ffecc81dbc8d8e44de15d5f0becb85ea9bd6723546a019c40">00717</a>     <a class="code" href="acq32busprot_8h.html#9b4d41254853ab8ffecc81dbc8d8e44de15d5f0becb85ea9bd6723546a019c40">PP_ACTUAL_SAMPLES</a>,
<a name="l00718"></a><a class="code" href="acq32busprot_8h.html#9b4d41254853ab8ffecc81dbc8d8e44d465127e191407a520ab1abebad26e43c">00718</a>     <a class="code" href="acq32busprot_8h.html#9b4d41254853ab8ffecc81dbc8d8e44d465127e191407a520ab1abebad26e43c">PP_STATE</a>
<a name="l00719"></a>00719 };
<a name="l00720"></a>00720 
<a name="l00721"></a><a class="code" href="acq32busprot_8h.html#3a01bae47fc8ce3fc6e2f06efafa8f13">00721</a> <span class="keyword">enum</span> <a class="code" href="acq32busprot_8h.html#3a01bae47fc8ce3fc6e2f06efafa8f13">EVENT_CONDITION</a> {
<a name="l00722"></a><a class="code" href="acq32busprot_8h.html#3a01bae47fc8ce3fc6e2f06efafa8f1316167156827f1a42d7ca60ab37ddc87c">00722</a>     <a class="code" href="acq32busprot_8h.html#3a01bae47fc8ce3fc6e2f06efafa8f1316167156827f1a42d7ca60ab37ddc87c">EC_NONE</a>,            
<a name="l00723"></a><a class="code" href="acq32busprot_8h.html#3a01bae47fc8ce3fc6e2f06efafa8f13d3e018b8a6b069f4ad0874838c5e5864">00723</a>     <a class="code" href="acq32busprot_8h.html#3a01bae47fc8ce3fc6e2f06efafa8f13d3e018b8a6b069f4ad0874838c5e5864">EC_TRUE</a>,
<a name="l00724"></a><a class="code" href="acq32busprot_8h.html#3a01bae47fc8ce3fc6e2f06efafa8f13d3d8c1304cf118ac9a5878cdd0603c28">00724</a>     <a class="code" href="acq32busprot_8h.html#3a01bae47fc8ce3fc6e2f06efafa8f13d3d8c1304cf118ac9a5878cdd0603c28">EC_SOFT</a>,
<a name="l00725"></a><a class="code" href="acq32busprot_8h.html#3a01bae47fc8ce3fc6e2f06efafa8f13647e4f6e1ce734e8af22e4c801adcfb6">00725</a>     <a class="code" href="acq32busprot_8h.html#3a01bae47fc8ce3fc6e2f06efafa8f13647e4f6e1ce734e8af22e4c801adcfb6">EC_TRIGGER_RISING</a>,          <span class="comment">// &lt;d&gt;</span>
<a name="l00726"></a><a class="code" href="acq32busprot_8h.html#3a01bae47fc8ce3fc6e2f06efafa8f13f66ac03b026f4631f5c35fd1f84b1f15">00726</a>     <a class="code" href="acq32busprot_8h.html#3a01bae47fc8ce3fc6e2f06efafa8f13f66ac03b026f4631f5c35fd1f84b1f15">EC_TRIGGER_FALLING</a>,         <span class="comment">// &lt;d&gt;</span>
<a name="l00727"></a><a class="code" href="acq32busprot_8h.html#3a01bae47fc8ce3fc6e2f06efafa8f134111751cc513be9e50afbc847292765a">00727</a>     <a class="code" href="acq32busprot_8h.html#3a01bae47fc8ce3fc6e2f06efafa8f134111751cc513be9e50afbc847292765a">EC_DATA_ABOVE</a>,              <span class="comment">// &lt;channel&gt; &lt;value&gt;</span>
<a name="l00728"></a><a class="code" href="acq32busprot_8h.html#3a01bae47fc8ce3fc6e2f06efafa8f13618e10e6d9c55c8796c0d22fe72cae47">00728</a>     <a class="code" href="acq32busprot_8h.html#3a01bae47fc8ce3fc6e2f06efafa8f13618e10e6d9c55c8796c0d22fe72cae47">EC_DATA_BELOW</a>              <span class="comment">// &lt;channel&gt; &lt;value&gt;</span>
<a name="l00729"></a>00729 };
<a name="l00730"></a>00730 
<a name="l00731"></a><a class="code" href="acq32busprot_8h.html#2f61d87f110cbb0e170acd5f9144c03b">00731</a> <span class="preprocessor">#define BP_GUT_FC_FX_AI    0x80</span>
<a name="l00732"></a><a class="code" href="acq32busprot_8h.html#bc8d207126db413bbe402bfb699fe777">00732</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_GUT_FC_FX_AO    0x40</span>
<a name="l00733"></a><a class="code" href="acq32busprot_8h.html#462a84a4615a8f15cabad3db571b3026">00733</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_GUT_FC_FX_DO    0x20</span>
<a name="l00734"></a><a class="code" href="acq32busprot_8h.html#52439cfa0d0c359a29340dc854d6500e">00734</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_GUT_FC_EV       0x10   // else phase</span>
<a name="l00735"></a><a class="code" href="acq32busprot_8h.html#ccfba0af4fee4dbc0c1b131584ac8b44">00735</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_GUT_FC_EPMASK   0x0f   // 1..15 events/phases possible</span>
<a name="l00736"></a>00736 <span class="preprocessor"></span>
<a name="l00737"></a><a class="code" href="acq32busprot_8h.html#71bb3154d2b6fd6ef4f65984cc6bfd67">00737</a> <span class="preprocessor">#define BP_GUT_SETPHASE    fc1    // FX/PH in A2, NSAMPLES in A1</span>
<a name="l00738"></a><a class="code" href="acq32busprot_8h.html#7273b46ae01947392864a2c9f2b906b6">00738</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_GUT_GETPHASE    fc1    // FX/PH in A2, mode in A1</span>
<a name="l00739"></a><a class="code" href="acq32busprot_8h.html#dfb826b872733e9c7bf74ab77ada4b37">00739</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_GUT_SETEVENT    fc2    // FX/EV in A2, descr in A1,A3</span>
<a name="l00740"></a><a class="code" href="acq32busprot_8h.html#19d48dd12e4395ba77f4cf64aeac2101">00740</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_GUT_GETEVENT    fc2    // FX/EV in A2, reply in A1,A3</span>
<a name="l00741"></a><a class="code" href="acq32busprot_8h.html#f29268d8b3d6f1d59664a7a9aa1ae7e9">00741</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_GUT_FIREEVENT   fc3    // FX/EV in A2, </span>
<a name="l00742"></a>00742 <span class="preprocessor"></span>
<a name="l00743"></a><a class="code" href="acq32busprot_8h.html#d0c755515765663e420f36a1db7feb68">00743</a> <span class="keyword">enum</span> <a class="code" href="acq32busprot_8h.html#d0c755515765663e420f36a1db7feb68">CLOCK_SOURCE</a> {
<a name="l00744"></a><a class="code" href="acq32busprot_8h.html#d0c755515765663e420f36a1db7feb68d357a16b903de8d9a127356f4530626e">00744</a>     <a class="code" href="acq32busprot_8h.html#d0c755515765663e420f36a1db7feb689b0e30d2d3c13586661208e7a69a8d6f">CS_DI0</a>, <a class="code" href="acq32busprot_8h.html#d0c755515765663e420f36a1db7feb68626d1a493599fd8fb4d94832684c859b">CS_DI1</a>, <a class="code" href="acq32busprot_8h.html#d0c755515765663e420f36a1db7feb68e9ec2eff523da901aae8bf96d095ac5f">CS_DI2</a>, <a class="code" href="acq32busprot_8h.html#d0c755515765663e420f36a1db7feb68a86be7fa0bad68c7addcf3a59d7b0917">CS_DI3</a>, <a class="code" href="acq32busprot_8h.html#d0c755515765663e420f36a1db7feb685035d58e542b765c6c489255292f05ff">CS_DI4</a>, <a class="code" href="acq32busprot_8h.html#d0c755515765663e420f36a1db7feb68d357a16b903de8d9a127356f4530626e">CS_DI5</a>, 
<a name="l00745"></a><a class="code" href="acq32busprot_8h.html#d0c755515765663e420f36a1db7feb6856564fd45159bb503549281ca8c05931">00745</a>     <a class="code" href="acq32busprot_8h.html#d0c755515765663e420f36a1db7feb6856564fd45159bb503549281ca8c05931">CS_SOFT_CLOCK</a>, <a class="code" href="acq32busprot_8h.html#d0c755515765663e420f36a1db7feb6883cf29c29b357f3c572dddd0da373c93">CS_INT_CLOCK</a>
<a name="l00746"></a>00746 };
<a name="l00747"></a><a class="code" href="acq32busprot_8h.html#162d6bd23678629ec3168a4aa566040e">00747</a> <span class="preprocessor">#define BP_GUT_SETCLOCK    fc4    // FX in A2,    source in A1</span>
<a name="l00748"></a><a class="code" href="acq32busprot_8h.html#5c38a8a3a1d9ca7efc545d692a85877f">00748</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_GUT_CLOCKNOW    fc5    // fire soft clock</span>
<a name="l00749"></a><a class="code" href="acq32busprot_8h.html#c155edae587ed2dba5e11878e6fb64c4">00749</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_GUT_RESET       fc6    // clear all GUT state</span>
<a name="l00750"></a>00750 <span class="preprocessor"></span>
<a name="l00751"></a>00751 <span class="comment">/*</span>
<a name="l00752"></a>00752 <span class="comment"> * Data dependent triggering</span>
<a name="l00753"></a>00753 <span class="comment"> */</span>
<a name="l00754"></a>00754  
<a name="l00755"></a><a class="code" href="acq32busprot_8h.html#2798b28f975aed4b1e740059809e0ca0">00755</a> <span class="preprocessor">#define BP_FC_SET_DATA_THRESHOLD        fct    </span>
<a name="l00756"></a>00756 <span class="preprocessor"></span><span class="comment">/*</span>
<a name="l00757"></a>00757 <span class="comment"> * A1 = channel 00 .. 1f, 'X'</span>
<a name="l00758"></a>00758 <span class="comment"> * A2 = FX/EV</span>
<a name="l00759"></a>00759 <span class="comment"> * A3 = trigger_below</span>
<a name="l00760"></a>00760 <span class="comment"> * A4 = trigger_above</span>
<a name="l00761"></a>00761 <span class="comment"> */</span>
<a name="l00762"></a>00762 
<a name="l00763"></a>00763 
<a name="l00764"></a><a class="code" href="acq32busprot_8h.html#0aaf74bc5d4ef4c33568e3ea3c55398a">00764</a> <span class="preprocessor">#define BP_FC_USER    fcu        // flags in A3</span>
<a name="l00765"></a><a class="code" href="acq32busprot_8h.html#d0d3f7684b320380739043b46aef56d2">00765</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_USER_LED3_ON    0x1</span>
<a name="l00766"></a><a class="code" href="acq32busprot_8h.html#71ab07bdf65ba2f24632dd538d002278">00766</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_USER_LED3_OFF   0x2</span>
<a name="l00767"></a><a class="code" href="acq32busprot_8h.html#5ed567b3c9039e1f16f39a9fb86012e6">00767</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_USER_LED3_FLIP  0x3</span>
<a name="l00768"></a><a class="code" href="acq32busprot_8h.html#16f30eca7ec7d8989f3ca3ca8fbd0b05">00768</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_USER_LED4_ON    0x4</span>
<a name="l00769"></a><a class="code" href="acq32busprot_8h.html#cec6d4dc8f1182b95c7c5d1b928aaeba">00769</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_USER_LED4_OFF   0x8</span>
<a name="l00770"></a><a class="code" href="acq32busprot_8h.html#c4f41615d4b894d85629f6a110daf9b1">00770</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_USER_LED4_FLIP  0xc</span>
<a name="l00771"></a>00771 <span class="preprocessor"></span>
<a name="l00772"></a>00772 
<a name="l00773"></a>00773 <span class="comment">/*</span>
<a name="l00774"></a>00774 <span class="comment"> * Event waiting: mask in in A3</span>
<a name="l00775"></a>00775 <span class="comment"> */</span>
<a name="l00776"></a>00776  
<a name="l00777"></a><a class="code" href="acq32busprot_8h.html#745264d8d605932701486717edadffa1">00777</a> <span class="preprocessor">#define BP_FC_WAIT_EVENT    fcw</span>
<a name="l00778"></a>00778 <span class="preprocessor"></span>
<a name="l00779"></a>00779 <span class="comment">/*</span>
<a name="l00780"></a>00780 <span class="comment"> * Getting Data:</span>
<a name="l00781"></a>00781 <span class="comment"> * Fetch - place in pci window</span>
<a name="l00782"></a>00782 <span class="comment"> * Transfer - dma to pc</span>
<a name="l00783"></a>00783 <span class="comment"> * Args:</span>
<a name="l00784"></a>00784 <span class="comment"> *   A1 - start bs, length bs</span>
<a name="l00785"></a>00785 <span class="comment"> *   A2 - channel {0..31} 0x8x == all</span>
<a name="l00786"></a>00786 <span class="comment"> *      - if (all) the 0x7x is decimation factor</span>
<a name="l00787"></a>00787 <span class="comment"> *   A3 - start samples K, length Samples</span>
<a name="l00788"></a>00788 <span class="comment"> *   A4 - host memory base address (Transfer)</span>
<a name="l00789"></a>00789 <span class="comment"> * Outputs: (fetch)</span>
<a name="l00790"></a>00790 <span class="comment"> *   A3 - target base base address</span>
<a name="l00791"></a>00791 <span class="comment"> *   A4 - number of samples</span>
<a name="l00792"></a>00792 <span class="comment"> *  </span>
<a name="l00793"></a>00793 <span class="comment"> */</span>
<a name="l00794"></a>00794 
<a name="l00795"></a><a class="code" href="acq32busprot_8h.html#a189dcd3cc239746824de546bcee0edd">00795</a> <span class="preprocessor">#define BP_FC_FETCH_DATA FCF</span>
<a name="l00796"></a><a class="code" href="acq32busprot_8h.html#2f34d67ffb7e1bed5fdd3c5ce6ee3844">00796</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_TXDATA     FCX</span>
<a name="l00797"></a>00797 <span class="preprocessor"></span>
<a name="l00798"></a><a class="code" href="acq32busprot_8h.html#a306448674e4f5135a2f616539f02059">00798</a> <span class="preprocessor">#define BP_FC_STREAM    FCS     // A1 is stride, A2 = BP_FC_STREAM_</span>
<a name="l00799"></a>00799 <span class="preprocessor"></span>
<a name="l00800"></a><a class="code" href="acq32busprot_8h.html#955582b0cbef4778492db21df2f89c53">00800</a> <span class="preprocessor">#define BP_FC_STREAM_MEAN    0x01    </span><span class="comment">/* not implemented */</span>
<a name="l00801"></a><a class="code" href="acq32busprot_8h.html#51730ed50ee402aec02bc06fd540ec12">00801</a> <span class="preprocessor">#define BP_FC_STREAM_NPAIRS  0xf0    </span><span class="comment">/* # pairs of channels 0=&gt;all 1=1, 2=2 etc */</span>
<a name="l00802"></a><a class="code" href="acq32busprot_8h.html#8a5065f8ec23b20a9a64df2701ae5471">00802</a> <span class="preprocessor">#define BP_FC_STREAM_BURST   0x02    </span><span class="comment">/* frame is a burst of full rate data */</span>
<a name="l00803"></a>00803 
<a name="l00804"></a><a class="code" href="acq32busprot_8h.html#28ad9d8405d80d0bc47d000581a1c409">00804</a> <span class="preprocessor">#define BP_FC_GET_NPAIRS(f)    (((f)&amp;BP_FC_STREAM_NPAIRS)&gt;&gt;4)</span>
<a name="l00805"></a><a class="code" href="acq32busprot_8h.html#2d4ff9fa442544c2d92138961514a2ec">00805</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SET_NPAIRS(p)    (((p)&lt;&lt;4)&amp;BP_FC_STREAM_NPAIRS)</span>
<a name="l00806"></a>00806 <span class="preprocessor"></span>
<a name="l00807"></a>00807 <span class="comment">/* interrupt defs */</span>
<a name="l00808"></a>00808 
<a name="l00809"></a><a class="code" href="acq32busprot_8h.html#0174ea6a434bcd5738d5db4a54100689">00809</a> <span class="preprocessor">#define BP_INT_COMMAND_ACK    0x0001</span>
<a name="l00810"></a><a class="code" href="acq32busprot_8h.html#f160afac12f34678973e577315a15bb8">00810</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_INT_STATUS_CHANGE  0x0002</span>
<a name="l00811"></a><a class="code" href="acq32busprot_8h.html#b273e242b9dfb7278e2d5612d489f537">00811</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_INT_LLC_DMA_DONE   0x0004   </span><span class="comment">/* LLC mode: dma complete when enabled*/</span>
<a name="l00812"></a><a class="code" href="acq32busprot_8h.html#d35522a18a19abb72c34b6d5ab186b01">00812</a> <span class="preprocessor">#define BP_INT_LLC_ERROR      0x0008   </span><span class="comment">/* LLC mode: errored */</span>
<a name="l00813"></a>00813 
<a name="l00814"></a>00814 <span class="comment">/*</span>
<a name="l00815"></a>00815 <span class="comment"> * start, length have a "block size" - default 1 samples,</span>
<a name="l00816"></a>00816 <span class="comment"> * may be upped to 16K if these bits are set:</span>
<a name="l00817"></a>00817 <span class="comment"> */</span>
<a name="l00818"></a><a class="code" href="acq32busprot_8h.html#67909f37ab75c0234293ddd5000b1c9b">00818</a> <span class="preprocessor">#define BS_16K                   0x4000</span>
<a name="l00819"></a><a class="code" href="acq32busprot_8h.html#7e45d0325999767bf0c79b1d9e59dad7">00819</a> <span class="preprocessor"></span><span class="preprocessor">#define BS_1K                    0x400</span>
<a name="l00820"></a>00820 <span class="preprocessor"></span>
<a name="l00821"></a><a class="code" href="acq32busprot_8h.html#7f24425ccee3125344d89d087040b618">00821</a> <span class="preprocessor">#define BP_A1_START_BS_16K       0x01</span>
<a name="l00822"></a><a class="code" href="acq32busprot_8h.html#afe50180e76890f5dcb7934245f5e53e">00822</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_A1_LENGTH_BS_16K      0x02</span>
<a name="l00823"></a><a class="code" href="acq32busprot_8h.html#0344c5dfb1024aeb5f905dd8a43075c6">00823</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_A1_START_BS_1K        0x04</span>
<a name="l00824"></a><a class="code" href="acq32busprot_8h.html#67c99646a5681fbdf41007c0d29f8362">00824</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_A1_LENGTH_BS_1K       0x08</span>
<a name="l00825"></a>00825 <span class="preprocessor"></span>
<a name="l00826"></a><a class="code" href="acq32busprot_8h.html#43afe8176d65017d5ec9164fbe597dfb">00826</a> <span class="preprocessor">#define BP_A1_FETCH_PRETRIGGER   0x10</span>
<a name="l00827"></a>00827 <span class="preprocessor"></span>
<a name="l00828"></a><a class="code" href="acq32busprot_8h.html#84474d4473c811bf096156810f554403">00828</a> <span class="preprocessor">#define MAX_START_CODING         0xffffU</span>
<a name="l00829"></a><a class="code" href="acq32busprot_8h.html#e173f2ac3a285cd778b1c45c9fc3727e">00829</a> <span class="preprocessor"></span><span class="preprocessor">#define MAX_LENGTH_CODING        0xffffU</span>
<a name="l00830"></a>00830 <span class="preprocessor"></span>
<a name="l00831"></a>00831 
<a name="l00832"></a>00832 
<a name="l00833"></a>00833 
<a name="l00834"></a>00834 <span class="comment">/*</span>
<a name="l00835"></a>00835 <span class="comment"> * Bits def for BP_FC_SET_DIO</span>
<a name="l00836"></a>00836 <span class="comment"> * Direction 1=&gt;Output</span>
<a name="l00837"></a>00837 <span class="comment"> */</span>
<a name="l00838"></a>00838 
<a name="l00839"></a>00839 
<a name="l00840"></a>00840 <span class="comment">// sample tagging</span>
<a name="l00841"></a>00841 
<a name="l00842"></a>00842      <span class="comment">/*</span>
<a name="l00843"></a>00843 <span class="comment">      * sample tag structure (ICD rev 6 )</span>
<a name="l00844"></a>00844 <span class="comment">      *</span>
<a name="l00845"></a>00845 <span class="comment">      *       d1111110000000000</span>
<a name="l00846"></a>00846 <span class="comment">      *        5432109876543210</span>
<a name="l00847"></a>00847 <span class="comment">      *        nTssssssdddddddd</span>
<a name="l00848"></a>00848 <span class="comment">      *        XT54321076543210</span>
<a name="l00849"></a>00849 <span class="comment">      *</span>
<a name="l00850"></a>00850 <span class="comment">      *  where nX { X 0..47 } is the SAMPLE NUMBER for subframe 0</span>
<a name="l00851"></a>00851 <span class="comment">      *  T                    Trigger</span>
<a name="l00852"></a>00852 <span class="comment">      *  s{5..0}              is the subframe number</span>
<a name="l00853"></a>00853 <span class="comment">      *  d{7..0}              DIO state (D0..7) on even subframe,</span>
<a name="l00854"></a>00854 <span class="comment">      *                                 (D15..8) on odd subframe,</span>
<a name="l00855"></a>00855 <span class="comment">      *  nX { X 48..63 } are extra bits (not used)</span>
<a name="l00856"></a>00856 <span class="comment">      */</span>
<a name="l00857"></a>00857 
<a name="l00858"></a><a class="code" href="acq32busprot_8h.html#6b4646f3c54bf15ca2d2edc53ca0f3d2">00858</a> <span class="preprocessor">#define SF0 0xfe</span>
<a name="l00859"></a><a class="code" href="acq32busprot_8h.html#591effcc256cf3f3adf8c671a744ac70">00859</a> <span class="preprocessor"></span><span class="preprocessor">#define SF1 0xed</span>
<a name="l00860"></a>00860 <span class="preprocessor"></span>
<a name="l00861"></a>00861 <span class="comment">/*</span>
<a name="l00862"></a>00862 <span class="comment"> * generate saample tags ... should be good for non-simul too</span>
<a name="l00863"></a>00863 <span class="comment"> */</span>
<a name="l00864"></a><a class="code" href="acq32busprot_8h.html#bcfa50eb85233742b373d8159ede3fa4">00864</a> <span class="preprocessor">#define SUBFRAME_MASK 0x3f</span>
<a name="l00865"></a><a class="code" href="acq32busprot_8h.html#dec15a37291f93acd76ce16a3cd1b24d">00865</a> <span class="preprocessor"></span><span class="preprocessor">#define NSUBFRAMES    0x40</span>
<a name="l00866"></a><a class="code" href="acq32busprot_8h.html#ab8c153ad16c35061192dad2cce2a72d">00866</a> <span class="preprocessor"></span><span class="preprocessor">#define NID_BITS      0x30</span>
<a name="l00867"></a>00867 <span class="preprocessor"></span>
<a name="l00868"></a><a class="code" href="acq32busprot_8h.html#96da7a69be6b17d939630ba297a21427">00868</a> <span class="preprocessor">#define nX_bit 15</span>
<a name="l00869"></a><a class="code" href="acq32busprot_8h.html#903d70686e5f49743d3e41e5f15f962a">00869</a> <span class="preprocessor"></span><span class="preprocessor">#define T_bit  14</span>
<a name="l00870"></a><a class="code" href="acq32busprot_8h.html#2b514f56076db858911fa2b878b2dad3">00870</a> <span class="preprocessor"></span><span class="preprocessor">#define s0_bit  8</span>
<a name="l00871"></a>00871 <span class="preprocessor"></span>
<a name="l00872"></a>00872 <span class="comment">/*</span>
<a name="l00873"></a>00873 <span class="comment"> * MULTI-FRAME: ICD rev 24</span>
<a name="l00874"></a>00874 <span class="comment"> */</span>
<a name="l00875"></a><a class="code" href="acq32busprot_8h.html#6d64b9cb9409281702911e78c81ed7db">00875</a> <span class="preprocessor">#define MFX_SF0    0             </span><span class="comment">/* Single frame marker */</span>
<a name="l00876"></a><a class="code" href="acq32busprot_8h.html#1e25dca63af8b4348bdfa2ce6b8de4cb">00876</a> <span class="preprocessor">#define MFX_SF1    1</span>
<a name="l00877"></a><a class="code" href="acq32busprot_8h.html#c9293936646cd2af0e8469589f6c9cf3">00877</a> <span class="preprocessor"></span><span class="preprocessor">#define MFX_MF2    2             </span><span class="comment">/* Multi frame marker */</span>
<a name="l00878"></a><a class="code" href="acq32busprot_8h.html#bc620df7ec3874dcca1c01af4e67aaf9">00878</a> <span class="preprocessor">#define MFX_MF3    3</span>
<a name="l00879"></a><a class="code" href="acq32busprot_8h.html#7378eb966201f5ed122b9a1bb564a74b">00879</a> <span class="preprocessor"></span><span class="preprocessor">#define MFX_FNa    4             </span><span class="comment">/* Frame number in Multi Frame {15:0} */</span>
<a name="l00880"></a><a class="code" href="acq32busprot_8h.html#c447bd24470c4c07baa1ba535fc600e6">00880</a> <span class="preprocessor">#define MFX_FNb    5</span>
<a name="l00881"></a><a class="code" href="acq32busprot_8h.html#9e0e631cec6787bd55ff7d85d1e69124">00881</a> <span class="preprocessor"></span><span class="preprocessor">#define MFX_Ja     6             </span><span class="comment">/* Jiffies {31:0} */</span>
<a name="l00882"></a><a class="code" href="acq32busprot_8h.html#5e171b022848df5434ae0e59fe1d21f2">00882</a> <span class="preprocessor">#define MFX_Jb     7</span>
<a name="l00883"></a><a class="code" href="acq32busprot_8h.html#a1a676a34a758d6932c2fa563036f280">00883</a> <span class="preprocessor"></span><span class="preprocessor">#define MFX_Jc     8</span>
<a name="l00884"></a><a class="code" href="acq32busprot_8h.html#179bc6617aa9a1542f65710956f65daf">00884</a> <span class="preprocessor"></span><span class="preprocessor">#define MFX_Jd     9</span>
<a name="l00885"></a><a class="code" href="acq32busprot_8h.html#de9d3515c2d68aae3a446c5c219185d6">00885</a> <span class="preprocessor"></span><span class="preprocessor">#define MFX_ESa   10            </span><span class="comment">/* Event Signature {31:0} */</span>
<a name="l00886"></a><a class="code" href="acq32busprot_8h.html#12567cc885c5e66716cc2dee8b0737d2">00886</a> <span class="preprocessor">#define MFX_ESb   11</span>
<a name="l00887"></a><a class="code" href="acq32busprot_8h.html#b661f2933f191f31d93230e4859c2b02">00887</a> <span class="preprocessor"></span><span class="preprocessor">#define MFX_ESc   12</span>
<a name="l00888"></a><a class="code" href="acq32busprot_8h.html#09483639278daabf9df2cd29e44476cf">00888</a> <span class="preprocessor"></span><span class="preprocessor">#define MFX_ESd   13</span>
<a name="l00889"></a><a class="code" href="acq32busprot_8h.html#128f1b86cfe16b3cd940654f00b58bcc">00889</a> <span class="preprocessor"></span><span class="preprocessor">#define MFX_ESOFa 14            </span><span class="comment">/* Event 2 Sample Offset {23:0} */</span>
<a name="l00890"></a><a class="code" href="acq32busprot_8h.html#d1a60421db89f65ecb3032eba955d581">00890</a> <span class="preprocessor">#define MFX_ESOFb 15</span>
<a name="l00891"></a><a class="code" href="acq32busprot_8h.html#7fda5f3ad53d3c362be8aa6d91bf17f5">00891</a> <span class="preprocessor"></span><span class="preprocessor">#define MFX_ESOFc 16</span>
<a name="l00892"></a><a class="code" href="acq32busprot_8h.html#402461fa94720dd96e81bb48978370be">00892</a> <span class="preprocessor"></span><span class="preprocessor">#define MFX_DIO   17</span>
<a name="l00893"></a><a class="code" href="acq32busprot_8h.html#ca2e7fd913f9561da59daded15d465b1">00893</a> <span class="preprocessor"></span><span class="preprocessor">#define MFX_EDIOa 18</span>
<a name="l00894"></a><a class="code" href="acq32busprot_8h.html#5a67ba03431331fb170a905bc0c68624">00894</a> <span class="preprocessor"></span><span class="preprocessor">#define MFX_EDIOb 19</span>
<a name="l00895"></a><a class="code" href="acq32busprot_8h.html#22495c52b236600ab0e11d2c02374dc3">00895</a> <span class="preprocessor"></span><span class="preprocessor">#define MFX_EDIOc 20</span>
<a name="l00896"></a><a class="code" href="acq32busprot_8h.html#def9713154d014fb468eb5a13671a78e">00896</a> <span class="preprocessor"></span><span class="preprocessor">#define MFX_EDIOd 21</span>
<a name="l00897"></a><a class="code" href="acq32busprot_8h.html#e285def51a6528c1bd3120a46c79abc8">00897</a> <span class="preprocessor"></span><span class="preprocessor">#define MFX_BLENa 22            </span><span class="comment">/* Burst Length (frames) {15:0} */</span>
<a name="l00898"></a><a class="code" href="acq32busprot_8h.html#cadbb27f231ed319d540dc5562e75547">00898</a> <span class="preprocessor">#define MFX_BLENb 23</span>
<a name="l00899"></a><a class="code" href="acq32busprot_8h.html#b46e47da2e4b15c17e7ed521d543b202">00899</a> <span class="preprocessor"></span><span class="preprocessor">#define MFX_BDELa 24            </span><span class="comment">/* Burst Delay (samples) {15:0} */</span>
<a name="l00900"></a><a class="code" href="acq32busprot_8h.html#19b7b7813c2130631bb1fafd0a1dc34b">00900</a> <span class="preprocessor">#define MFX_BDELb 25</span>
<a name="l00901"></a><a class="code" href="acq32busprot_8h.html#5bf09804d42ccaceb61731d88c746aeb">00901</a> <span class="preprocessor"></span><span class="preprocessor">#define MFX_OVER  26</span>
<a name="l00902"></a>00902 <span class="preprocessor"></span><span class="comment">/* 27 spare */</span>
<a name="l00903"></a><a class="code" href="acq32busprot_8h.html#9238848eba1300c0547564144816ea2b">00903</a> <span class="preprocessor">#define MFX_MFNa  28            </span><span class="comment">/* Multi Frame Number */</span>
<a name="l00904"></a><a class="code" href="acq32busprot_8h.html#873a73b4a8a10d62dcf6fa9e314f03d2">00904</a> <span class="preprocessor">#define MFX_MFNb  29</span>
<a name="l00905"></a><a class="code" href="acq32busprot_8h.html#b5ba874508451636d8ddb1afee131bdc">00905</a> <span class="preprocessor"></span><span class="preprocessor">#define MFX_MFNc  30</span>
<a name="l00906"></a><a class="code" href="acq32busprot_8h.html#41bcbe649439b9b4c4724344989206f3">00906</a> <span class="preprocessor"></span><span class="preprocessor">#define MFX_MFNd  31</span>
<a name="l00907"></a><a class="code" href="acq32busprot_8h.html#b463f293b7240a8d681df8befd609de4">00907</a> <span class="preprocessor"></span><span class="preprocessor">#define MFX_TVSa  32            </span><span class="comment">/* TimeVal Seconds */</span>
<a name="l00908"></a><a class="code" href="acq32busprot_8h.html#efddfd30b2a6f4fbc9a1d01f5123ebce">00908</a> <span class="preprocessor">#define MFX_TVSb  33</span>
<a name="l00909"></a><a class="code" href="acq32busprot_8h.html#858f6a6f1e9e6a74cfdb46e6e95fe53c">00909</a> <span class="preprocessor"></span><span class="preprocessor">#define MFX_TVSc  34</span>
<a name="l00910"></a><a class="code" href="acq32busprot_8h.html#bfc9741e3ef43118d26ca402d19412f6">00910</a> <span class="preprocessor"></span><span class="preprocessor">#define MFX_TVSd  35</span>
<a name="l00911"></a><a class="code" href="acq32busprot_8h.html#ada36dcab7c88f0a9c0b7bfa90e854c8">00911</a> <span class="preprocessor"></span><span class="preprocessor">#define MFX_TVUSa 36            </span><span class="comment">/* Time Val Micro Seconds */</span>
<a name="l00912"></a><a class="code" href="acq32busprot_8h.html#4f87a4a3ee0c02c014040212ec82d0ee">00912</a> <span class="preprocessor">#define MFX_TVUSb 37</span>
<a name="l00913"></a><a class="code" href="acq32busprot_8h.html#91c0bbbb1bc4e9c55e5e08877afbd267">00913</a> <span class="preprocessor"></span><span class="preprocessor">#define MFX_TVUSc 38</span>
<a name="l00914"></a><a class="code" href="acq32busprot_8h.html#40fc41eed3cf701353698381dd12a814">00914</a> <span class="preprocessor"></span><span class="preprocessor">#define MFX_TVUSd 39</span>
<a name="l00915"></a>00915 <span class="preprocessor"></span>
<a name="l00916"></a>00916 
<a name="l00917"></a>00917 
<a name="l00918"></a>00918 
<a name="l00919"></a><a class="code" href="acq32busprot_8h.html#b9fdf03e73e324dd512650469c011dff">00919</a> <span class="preprocessor">#define MF_MF2 0xf0</span>
<a name="l00920"></a><a class="code" href="acq32busprot_8h.html#f712728adc29797b15607b53922559d8">00920</a> <span class="preprocessor"></span><span class="preprocessor">#define MF_MF3 0x01</span>
<a name="l00921"></a>00921 <span class="preprocessor"></span>
<a name="l00922"></a><a class="code" href="acq32busprot_8h.html#85c2d5301bbb39c466f2240ed8b66f89">00922</a> <span class="preprocessor">#define MF_FILLa 0xf1</span>
<a name="l00923"></a><a class="code" href="acq32busprot_8h.html#49478a3dfadc9d961d61389a774b11f1">00923</a> <span class="preprocessor"></span><span class="preprocessor">#define MF_FILLb 0x11</span>
<a name="l00924"></a>00924 <span class="preprocessor"></span>
<a name="l00925"></a>00925 
<a name="l00926"></a>00926 <span class="comment">/*</span>
<a name="l00927"></a>00927 <span class="comment"> * Message - defined at the end to get benefit of all the good things in this</span>
<a name="l00928"></a>00928 <span class="comment"> * file.</span>
<a name="l00929"></a>00929 <span class="comment"> */</span>
<a name="l00930"></a>00930 
<a name="l00931"></a>00931 <span class="comment">/*</span>
<a name="l00932"></a>00932 <span class="comment"> * encoding of type</span>
<a name="l00933"></a>00933 <span class="comment"> */</span>
<a name="l00934"></a>00934 
<a name="l00935"></a><a class="code" href="acq32busprot_8h.html#303e4f5dbbe9fb67f1dc18a9c745d8a1">00935</a> <span class="preprocessor">#define MT_TYPE_SHIFT      24</span>
<a name="l00936"></a><a class="code" href="acq32busprot_8h.html#ac0064c36c372d9a62d3a7a4fa8dc72c">00936</a> <span class="preprocessor"></span><span class="preprocessor">#define MT_TYPE_MASK       (0xffU&lt;&lt;MT_TYPE_SHIFT)</span>
<a name="l00937"></a><a class="code" href="acq32busprot_8h.html#e626433ad8ca75c25b5da3bc43688d9f">00937</a> <span class="preprocessor"></span><span class="preprocessor">#define MT_PRAM_MASK       ~(MT_TYPE_MASK)</span>
<a name="l00938"></a>00938 <span class="preprocessor"></span>
<a name="l00939"></a><a class="code" href="acq32busprot_8h.html#6d4c450215db4b20dd52cd797f8d2e06">00939</a> <span class="preprocessor">#define MT_ID( type )      ((type)&amp;MT_TYPE_MASK)</span>
<a name="l00940"></a><a class="code" href="acq32busprot_8h.html#2418c1e9e9acb58aaf1dcfd5935335d6">00940</a> <span class="preprocessor"></span><span class="preprocessor">#define MT_PRAM(type)      ((type)&amp;MT_PRAM_MASK)</span>
<a name="l00941"></a>00941 <span class="preprocessor"></span>
<a name="l00942"></a>00942 
<a name="l00943"></a>00943 <span class="comment">/*</span>
<a name="l00944"></a>00944 <span class="comment"> * Function #1: Streaming Data</span>
<a name="l00945"></a>00945 <span class="comment"> */</span>
<a name="l00946"></a>00946 
<a name="l00947"></a><a class="code" href="acq32busprot_8h.html#7d501ea69b27029cdd194ad6950583e0">00947</a> <span class="preprocessor">#define MT_STREAM        (BP_FC_STREAM&lt;&lt;MT_TYPE_SHIFT)</span>
<a name="l00948"></a>00948 <span class="preprocessor"></span>
<a name="l00949"></a><a class="code" href="acq32busprot_8h.html#ea8cc4cc6c670e6df396dfb7b5c3f28e">00949</a> <span class="preprocessor">#define MTP_STREAM_IS_TAGGED  0x800000   </span><span class="comment">/* tagged if this bit set */</span>
<a name="l00950"></a><a class="code" href="acq32busprot_8h.html#0a959472530b4410e467df55550e50a1">00950</a> <span class="preprocessor">#define MTP_STREAM_END_PACKET 0x400000   </span><span class="comment">/* hint to transmit this packet on */</span>
<a name="l00951"></a>00951 
<a name="l00952"></a><a class="code" href="acq32busprot_8h.html#e4459eb1eb47dc1bea3f9cbff3c23cf8">00952</a> <span class="preprocessor">#define MTP_STREAM_NCHAN_MASK 0x0000ff   </span><span class="comment">/* #channels              */</span>
<a name="l00953"></a><a class="code" href="acq32busprot_8h.html#20294f7e6aa52132485bda3800e55ce4">00953</a> <span class="preprocessor">#define MTP_STREAM_NSAM_MASK  0x00ff00   </span><span class="comment">/* #samples in message    */</span>
<a name="l00954"></a>00954 
<a name="l00955"></a><a class="code" href="acq32busprot_8h.html#334c5ebd47e9edfd746c4c583f34780a">00955</a> <span class="preprocessor">#define MTP_STREAM_NCHAN(type) ((type)&amp;MTP_STREAM_NCHAN_MASK)</span>
<a name="l00956"></a><a class="code" href="acq32busprot_8h.html#8226cbe93c3e5f4e788daa71ee86aea6">00956</a> <span class="preprocessor"></span><span class="preprocessor">#define MTP_STREAM_NSAM(type)  (((type)&amp;MTP_STREAM_NSAM_MASK)&gt;&gt;8)</span>
<a name="l00957"></a>00957 <span class="preprocessor"></span>
<a name="l00958"></a><a class="code" href="acq32busprot_8h.html#2ebc907584552b7e6797460e8e8ec497">00958</a> <span class="preprocessor">#define MTP_STREAM_SLEN(type)  \</span>
<a name="l00959"></a>00959 <span class="preprocessor">    ((MTP_STREAM_NCHAN(type)+(((type)&amp;MTP_STREAM_IS_TAGGED)!=0?2:0))*2)</span>
<a name="l00960"></a>00960 <span class="preprocessor"></span><span class="comment">/*</span>
<a name="l00961"></a>00961 <span class="comment"> * data is arranged: data[NSAM][(IS_TAGGED?2:0)+NCHAN]</span>
<a name="l00962"></a>00962 <span class="comment"> *</span>
<a name="l00963"></a>00963 <span class="comment"> * and a sample is filler:tag:pair0:pair1....</span>
<a name="l00964"></a>00964 <span class="comment"> */</span>
<a name="l00965"></a>00965 
<a name="l00966"></a>00966 <span class="comment">/* Function #2: get FW Revision */</span>
<a name="l00967"></a>00967 
<a name="l00968"></a><a class="code" href="acq32busprot_8h.html#cf86c6523712831d6c1809854e63957f">00968</a> <span class="preprocessor">#define MT_FWREV        (BP_FC_GET_FWREV&lt;&lt;MT_TYPE_SHIFT)</span>
<a name="l00969"></a>00969 <span class="preprocessor"></span>
<a name="l00970"></a>00970 <span class="comment">/* Function #3: notify BIGDUMP completion */</span>
<a name="l00971"></a>00971 
<a name="l00972"></a><a class="code" href="acq32busprot_8h.html#bbf234f6927d9cac93a0d549379048a6">00972</a> <span class="preprocessor">#define MT_BIGDUMP_COMPLETE (BP_FC_BIG_DUMP&lt;&lt;MT_TYPE_SHIFT)</span>
<a name="l00973"></a>00973 <span class="preprocessor"></span>
<a name="l00974"></a>00974 <span class="comment">/* Function #4: get LCA details */</span>
<a name="l00975"></a>00975 
<a name="l00976"></a><a class="code" href="acq32busprot_8h.html#7aa3c338d9a6f4a6fd9d0ab59a12da0b">00976</a> <span class="preprocessor">#define MT_GETCONFIG    BP_FC_GET_CONFIG</span>
<a name="l00977"></a>00977 <span class="preprocessor"></span>
<a name="l00978"></a><a class="code" href="acq32busprot_8h.html#52e75ac98c6ead707e20e13e2824888a">00978</a> <span class="preprocessor">#define FLAVOR_KEY    "FLAVOR"  // first line FLAVOR=modelXXX</span>
<a name="l00979"></a>00979 <span class="preprocessor"></span>
<a name="l00980"></a>00980 <span class="comment">/* Function #5: get CAL details */</span>
<a name="l00981"></a>00981 
<a name="l00982"></a><a class="code" href="acq32busprot_8h.html#0c4dd2b445f6a4ecfc023ee7ed7d99f9">00982</a> <span class="preprocessor">#define MT_GETCALINFO    (BP_FC_GET_CALINFO&lt;&lt;MT_TYPE_SHIFT)</span>
<a name="l00983"></a>00983 <span class="preprocessor"></span>
<a name="l00984"></a>00984 <span class="comment">/* Function #6: get CAPTURE STATUS */</span>
<a name="l00985"></a>00985 
<a name="l00986"></a><a class="code" href="acq32busprot_8h.html#cacd7683257197ed452a224cca500b2a">00986</a> <span class="preprocessor">#define MT_GETCAPTURESTATS (BP_FC_GET_CAPTURESTATS&lt;&lt;MT_TYPE_SHIFT)</span>
<a name="l00987"></a>00987 <span class="preprocessor"></span>
<a name="l00988"></a>00988 
<a name="l00989"></a>00989 <span class="comment">/*</span>
<a name="l00990"></a>00990 <span class="comment"> * LLC LLC LLC LLC LLC LLC LLC</span>
<a name="l00991"></a>00991 <span class="comment"> *</span>
<a name="l00992"></a>00992 <span class="comment"> * Low Latency Control Mode - works like this ...</span>
<a name="l00993"></a>00993 <span class="comment"> * </span>
<a name="l00994"></a>00994 <span class="comment"> *</span>
<a name="l00995"></a>00995 <span class="comment"> * prams for setup command: BP_FC_SET_MODE_LLC</span>
<a name="l00996"></a>00996 <span class="comment"> * A1 - prams</span>
<a name="l00997"></a>00997 <span class="comment"> * A3 - clock div for extclock mode</span>
<a name="l00998"></a>00998 <span class="comment"> * LLCV2:</span>
<a name="l00999"></a>00999 <span class="comment"> * A2 - host buffer with target address settings when BP_FC_SET_LLCV2_INIT on</span>
<a name="l01000"></a>01000 <span class="comment"> */</span>
<a name="l01001"></a>01001  
<a name="l01002"></a><a class="code" href="acq32busprot_8h.html#662d4e355c471d3d3fe30fc144fea1a9">01002</a> <span class="preprocessor">#define BP_FC_SET_MODE_LLC FCL   // switch into Low Latency Control Mode.</span>
<a name="l01003"></a>01003 <span class="preprocessor"></span> 
<a name="l01004"></a><a class="code" href="acq32busprot_8h.html#18f3c8eb63f4a208423c25630c1abab3">01004</a> <span class="preprocessor">#define BP_FC_SET_MODE_LLC_SOFTCLOCK    0x80  // EXCLUSIVE!</span>
<a name="l01005"></a><a class="code" href="acq32busprot_8h.html#29e2c8615909766eac8969ca2708c691">01005</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SET_MODE_LLC_EXTCLOCK     0x40</span>
<a name="l01006"></a>01006 <span class="preprocessor"></span>
<a name="l01007"></a><a class="code" href="acq32busprot_8h.html#9589299bd8e52d88e3fd26be89008cb9">01007</a> <span class="preprocessor">#define BP_FC_SET_MODE_LLC_CLKPOL_POS   0x20  // set for rising edge active</span>
<a name="l01008"></a><a class="code" href="acq32busprot_8h.html#4312f9cfa8dde2035593d2c079e7e419">01008</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SET_MODE_LLC_TRPOL_POS    0x10  // set for rising edge active</span>
<a name="l01009"></a><a class="code" href="acq32busprot_8h.html#a6691a088363b7b359c03e91cb36bacf">01009</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SET_LLCV2_INIT            0x08  // address of init block in A4</span>
<a name="l01010"></a><a class="code" href="acq32busprot_8h.html#4dc2a204fb1cd987da9311f88c24547b">01010</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SET_RTCLOCK_TIMING        0x04</span>
<a name="l01011"></a>01011 <span class="preprocessor"></span>
<a name="l01012"></a><a class="code" href="acq32busprot_8h.html#e415cdc32245bbb9d5c1752b63a4a035">01012</a> <span class="preprocessor">#define BP_FC_SET_MODE_LLC_INTSOFT_CLK  0x01  // test mode</span>
<a name="l01013"></a><a class="code" href="acq32busprot_8h.html#632ad1d57e52f25b591c7df477c32e96">01013</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SET_MODE_LLC_INTDIV_CLK   0x02  // test mode</span>
<a name="l01014"></a>01014 <span class="preprocessor"></span>
<a name="l01015"></a>01015 
<a name="l01016"></a>01016 <span class="comment">/* </span>
<a name="l01017"></a>01017 <span class="comment"> * and after entering LLC, the following defs apply:</span>
<a name="l01018"></a>01018 <span class="comment"> */</span>
<a name="l01019"></a>01019 
<a name="l01020"></a>01020 <span class="comment">/* mailboxes: */</span>
<a name="l01021"></a>01021 
<a name="l01022"></a><a class="code" href="acq32busprot_8h.html#729127de7510c13baa8387b187533692">01022</a> <span class="preprocessor">#define BP_MB_LLC_CSR           0    // M - Control S - Status</span>
<a name="l01023"></a><a class="code" href="acq32busprot_8h.html#3b8075342bd7bb3e3ea6243b52462834">01023</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_MB_LLC_DATA_ADDR     1    // M puts host data target phys addr here</span>
<a name="l01024"></a><a class="code" href="acq32busprot_8h.html#27e42bf5e4877ab829cf89d43a24fb5f">01024</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_MB_LLC_TADC          2    // S puts latched time here on request</span>
<a name="l01025"></a><a class="code" href="acq32busprot_8h.html#5cb1cdc7aafd2bf7631cf9282eb48725">01025</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_MB_LLC_TINST         3    // S puts inst time here on request</span>
<a name="l01026"></a>01026 <span class="preprocessor"></span>
<a name="l01027"></a>01027 
<a name="l01028"></a>01028 <span class="comment">/* CSR bits: */</span>
<a name="l01029"></a>01029 <span class="comment">/* WARNING:unfortunately this is a shared reg, so extreme care is needed*/</span>
<a name="l01030"></a>01030 <span class="comment">/*</span>
<a name="l01031"></a>01031 <span class="comment"> * Master sends a command by clearing SACK and SNACK</span>
<a name="l01032"></a>01032 <span class="comment"> * Slave signals command complete by setting SACK or SNACK</span>
<a name="l01033"></a>01033 <span class="comment"> */</span>
<a name="l01034"></a><a class="code" href="acq32busprot_8h.html#c55b4e39416ce5798ef0f92a30a08b62">01034</a> <span class="preprocessor">#define LLC_CSR_SACK        0x80000000  // S reports command ACK</span>
<a name="l01035"></a><a class="code" href="acq32busprot_8h.html#d221b91a0cf25c3ab72386f5e2d4ab0a">01035</a> <span class="preprocessor"></span><span class="preprocessor">#define LLC_CSR_SNACK       0x40000000  // S slave reports negative ACK</span>
<a name="l01036"></a>01036 <span class="preprocessor"></span>
<a name="l01037"></a><a class="code" href="acq32busprot_8h.html#71acb157c0672807892065fffeeed5ae">01037</a> <span class="preprocessor">#define LLC_CSR_READY       0x10000000  // S reports ready for commands</span>
<a name="l01038"></a><a class="code" href="acq32busprot_8h.html#8093eee40ae99b3682d7fef57bb20e4e">01038</a> <span class="preprocessor"></span><span class="preprocessor">#define LLC_CSR_S_IS_ARMED  0x08000000  // S reports ADC ARMED</span>
<a name="l01039"></a><a class="code" href="acq32busprot_8h.html#a1d6d031bd4c043d9c50765be7b28b50">01039</a> <span class="preprocessor"></span><span class="preprocessor">#define LLC_CSR_S_CTR_RUN   0x04000000  // S reports counter running</span>
<a name="l01040"></a><a class="code" href="acq32busprot_8h.html#c9ebba5368d4f00c3ab38bea0de53acb">01040</a> <span class="preprocessor"></span><span class="preprocessor">#define LLC_CSR_S_DMA_DONE  0x02000000  // S reports DMA done  </span>
<a name="l01041"></a><a class="code" href="acq32busprot_8h.html#d5da45227f31f9a4b22b4ac950bdae7c">01041</a> <span class="preprocessor"></span><span class="preprocessor">#define LLC_CSR_S_ERROR     0x01000000  // S reports ERROR.</span>
<a name="l01042"></a>01042 <span class="preprocessor"></span>
<a name="l01043"></a><a class="code" href="acq32busprot_8h.html#b7055ee8321f7d36d3fbf962705f2d35">01043</a> <span class="preprocessor">#define LLC_CSR_S_TCYCLE    0x00ff0000  // usecs clock to copy done</span>
<a name="l01044"></a>01044 <span class="preprocessor"></span>
<a name="l01045"></a><a class="code" href="acq32busprot_8h.html#e9e669942e4fd759147c0b54fef611ef">01045</a> <span class="preprocessor">#define LLC_MAKE_TCYCLE( tc ) ((tc)&lt;&lt;16)</span>
<a name="l01046"></a><a class="code" href="acq32busprot_8h.html#b573ba22437607652c42849c25492fb9">01046</a> <span class="preprocessor"></span><span class="preprocessor">#define LLC_GET_TCYCLE( csr ) (((csr)&amp;LLC_CSR_S_TCYCLE)&gt;&gt;16)</span>
<a name="l01047"></a>01047 <span class="preprocessor"></span>
<a name="l01048"></a>01048 
<a name="l01049"></a><a class="code" href="acq32busprot_8h.html#a402f319e8f26266c6784aab66c18195">01049</a> <span class="preprocessor">#define LLC_CSR_M_DECIM     0x00000f00  // M sets decimation value</span>
<a name="l01050"></a>01050 <span class="preprocessor"></span>
<a name="l01051"></a><a class="code" href="acq32busprot_8h.html#62c500cbbbce62cc9d76bca9d413d2ac">01051</a> <span class="preprocessor">#define LLC_MAKE_DECIM( decim ) ((decim)&lt;&lt;8)</span>
<a name="l01052"></a><a class="code" href="acq32busprot_8h.html#3413257fecf671cca5a2ae43284696be">01052</a> <span class="preprocessor"></span><span class="preprocessor">#define LLC_GET_DECIM( csr )    (((csr)&amp;LLC_CSR_M_DECIM)&gt;&gt;8)</span>
<a name="l01053"></a>01053 <span class="preprocessor"></span>
<a name="l01054"></a>01054 
<a name="l01055"></a><a class="code" href="acq32busprot_8h.html#77b509d2c06fd4ed05c773553b20f03e">01055</a> <span class="preprocessor">#define LLC_CSR_M_LLC200_INIT 0x00000080 // M A4 holds LLC200_INIT_BUF</span>
<a name="l01056"></a>01056 <span class="preprocessor"></span><span class="comment">/* Possible, not implemented</span>
<a name="l01057"></a>01057 <span class="comment"></span>
<a name="l01058"></a>01058 <span class="comment">#define LLC_CSR_M_TIMSTAMP  0x00000040  // M append TADC, CSR to data</span>
<a name="l01059"></a>01059 <span class="comment">*/</span>
<a name="l01060"></a>01060 
<a name="l01061"></a><a class="code" href="acq32busprot_8h.html#5cdbce29caa44644d8716145ab64bc6d">01061</a> <span class="preprocessor">#define LLC_CSR_M_AUTOINCR  0x00000020  // M Auto increment target addr</span>
<a name="l01062"></a>01062 <span class="preprocessor"></span>
<a name="l01063"></a>01063 <span class="comment">// P: (set by M, reset by S), L:level set by M</span>
<a name="l01064"></a>01064 
<a name="l01065"></a><a class="code" href="acq32busprot_8h.html#ecda29c94851da6c840c2e4f2016f9a1">01065</a> <span class="preprocessor">#define LLC_CSR_M_SETADDR   0x00000010  // MP load new DATA_ADDR</span>
<a name="l01066"></a><a class="code" href="acq32busprot_8h.html#6c59db2396d6a958c8c8a350faae09f9">01066</a> <span class="preprocessor"></span><span class="preprocessor">#define LLC_CSR_M_READCTR   0x00000008  // MP request to read counter</span>
<a name="l01067"></a><a class="code" href="acq32busprot_8h.html#66dcd880b93b3ff067a0fbb9a153c0f2">01067</a> <span class="preprocessor"></span><span class="preprocessor">#define LLC_CSR_M_ESC       0x00000004  // MP SET TRUE TO ESCAPE to normal ops</span>
<a name="l01068"></a><a class="code" href="acq32busprot_8h.html#ca1a9d3deca9367bf7121419e6f5cb62">01068</a> <span class="preprocessor"></span><span class="preprocessor">#define LLC_CSR_M_ARM       0x00000002  // ML set true to arm</span>
<a name="l01069"></a><a class="code" href="acq32busprot_8h.html#447de8341c2092e16ca220de7593e419">01069</a> <span class="preprocessor"></span><span class="preprocessor">#define LLC_CSR_M_SOFTCLOCK 0x00000001  // MP ADC soft clock</span>
<a name="l01070"></a>01070 <span class="preprocessor"></span>
<a name="l01071"></a>01071 
<a name="l01076"></a><a class="code" href="acq32busprot_8h.html#cedcdeacac2c52df18beb36164c7bd6f">01076</a> <span class="preprocessor">#define LLCV2_INIT_MAGIC_MARKER 0xfeedc0de</span>
<a name="l01077"></a>01077 <span class="preprocessor"></span>
<a name="l01078"></a><a class="code" href="acq32busprot_8h.html#ea5d3404c47977791b70e8fbeeb8d534">01078</a> <span class="preprocessor">#define LLCV2_INIT_MARKER  0      </span><span class="comment">/* set to LLCV2_INIT_MAGIC_MARKER to init */</span>
<a name="l01079"></a><a class="code" href="acq32busprot_8h.html#1034ee1c6e1365f959b1517d411cc54f">01079</a> <span class="preprocessor">#define LLCV2_INIT_AI_HSBT 1</span>
<a name="l01080"></a><a class="code" href="acq32busprot_8h.html#de45cfa6452f53926c0304ceb9840a1a">01080</a> <span class="preprocessor"></span><span class="preprocessor">#define LLCV2_INIT_AO_HSBS 2</span>
<a name="l01081"></a><a class="code" href="acq32busprot_8h.html#8d39720cd53b24cb623d51dc6bcccc0f">01081</a> <span class="preprocessor"></span><span class="preprocessor">#define LLCV2_INIT_DO_HSBS 3</span>
<a name="l01082"></a><a class="code" href="acq32busprot_8h.html#688acf44877a08eafa12bf7d0bc5169b">01082</a> <span class="preprocessor"></span><span class="preprocessor">#define LLCV2_INIT_STATUS_HSBT 4</span>
<a name="l01083"></a>01083 <span class="preprocessor"></span>
<a name="l01084"></a><a class="code" href="acq32busprot_8h.html#789075a13eaa7467e85d10d26d20a3b5">01084</a> <span class="preprocessor">#define LLCV2_INIT_LAST 5</span>
<a name="l01085"></a>01085 <span class="preprocessor"></span>
<a name="l01086"></a>01086 
<a name="l01087"></a>01087 
<a name="l01088"></a><a class="code" href="acq32busprot_8h.html#42f5f112ef95da7476b8ab42d5335320">01088</a> <span class="preprocessor">#define LLC200_INIT_MAGIC_MARKER 0x200cafe0</span>
<a name="l01089"></a>01089 <span class="preprocessor"></span>
<a name="l01092"></a><a class="code" href="acq32busprot_8h.html#d50c751a888d70aab1b7ad028ada0d78">01092</a> <span class="preprocessor">#define LLC200_INIT_MASK_DDS_FTW  0x0001     </span>
<a name="l01093"></a><a class="code" href="acq32busprot_8h.html#742cf31c93da00b3b426b03576d57f9e">01093</a> <span class="preprocessor"></span><span class="preprocessor">#define LLC200_INIT_MASK_RANGE    0x0002</span>
<a name="l01094"></a><a class="code" href="acq32busprot_8h.html#3aa0fc433529018832dd71279e534485">01094</a> <span class="preprocessor"></span><span class="preprocessor">#define LLC200_INIT_MASK_OFFSETS  0x0004</span>
<a name="l01095"></a><a class="code" href="acq32busprot_8h.html#8d5802c6ae7a7b4b188ba45d9d053e92">01095</a> <span class="preprocessor"></span><span class="preprocessor">#define LLC200_INIT_MASK_TRIG     0x0008</span>
<a name="l01096"></a><a class="code" href="acq32busprot_8h.html#f293ea4f5cd78c7cc6457b6a7d2957a6">01096</a> <span class="preprocessor"></span><span class="preprocessor">#define LLC200_INIT_MASK_CHANNEL  0x0010</span>
<a name="l01097"></a><a class="code" href="acq32busprot_8h.html#f58ed8c25ba33ed4025560ca8e5d34e4">01097</a> <span class="preprocessor"></span><span class="preprocessor">#define LLC200_INIT_MASK_INTCLK   0x0020</span>
<a name="l01098"></a><a class="code" href="acq32busprot_8h.html#1fe9a0c4e8afca765fab4e8d87ffdc2c">01098</a> <span class="preprocessor"></span><span class="preprocessor">#define LLC200_INIT_MASK_DDS_QDAC 0x0040    </span>
<a name="l01100"></a><a class="code" href="acq32busprot_8h.html#86d01274e893019c056c001ee9906a3a">01100</a> <span class="preprocessor">#define LLC200_INIT_TRIG_EXTRIG   0x0010    </span><span class="comment">/* external trigger if set */</span>
<a name="l01101"></a><a class="code" href="acq32busprot_8h.html#bd3812f4276b9069d80f563442dde19d">01101</a> <span class="preprocessor">#define LLC200_INIT_TRIG_EXTLINE  0x000f    </span><span class="comment">/* mask 0..5 =&gt; DI0..DI5   */</span>
<a name="l01102"></a><a class="code" href="acq32busprot_8h.html#c75b8adadc602e81b05ed8c899124eb3">01102</a> <span class="preprocessor">#define LLC200_INIT_TRIG_RISING   0x0020    </span><span class="comment">/* Rising if set           */</span>
<a name="l01103"></a>01103 
<a name="l01104"></a>01104 
<a name="l01111"></a><a class="code" href="structLLC200__INIT.html">01111</a> <span class="keyword">struct </span><a class="code" href="structLLC200__INIT.html" title="LLC200_INIT acq216 host side buffer for host side initialisation.">LLC200_INIT</a>  {
<a name="l01112"></a><a class="code" href="structLLC200__INIT.html#c20668c7c4be3ca9f6455e328ed6e1b9">01112</a>         <span class="keywordtype">unsigned</span> <a class="code" href="structLLC200__INIT.html#c20668c7c4be3ca9f6455e328ed6e1b9">marker</a>;              
<a name="l01113"></a><a class="code" href="structLLC200__INIT.html#86e9ddbb7aa18e200581a45088af95fe">01113</a>         <span class="keywordtype">unsigned</span> <a class="code" href="structLLC200__INIT.html#86e9ddbb7aa18e200581a45088af95fe" title="LLC200_INIT_MAGIC_MARKER.">mask</a>;                
<a name="l01114"></a><a class="code" href="structLLC200__INIT.html#5887a78ba44477120dec53e237bbf855">01114</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>  <a class="code" href="structLLC200__INIT.html#5887a78ba44477120dec53e237bbf855" title="indicates the fields to change.">dds_ftw</a>[8];    
<a name="l01115"></a>01115         <span class="keyword">union </span>{
<a name="l01116"></a><a class="code" href="structLLC200__INIT.html#38e7c646b6b72394cfbcb8bfe659eb1c">01116</a>                 <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <a class="code" href="structLLC200__INIT.html#38e7c646b6b72394cfbcb8bfe659eb1c">ull</a>;
<a name="l01117"></a><a class="code" href="structLLC200__INIT.html#948a418bd05dce074cf96fb6567af313">01117</a>                 <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="structLLC200__INIT.html#948a418bd05dce074cf96fb6567af313">w</a>[4];      <span class="comment">/* r1, r2, r3, pad */</span>
<a name="l01118"></a>01118         } <a class="code" href="structLLC200__INIT.html#129a52991e9918c94983dcdac9554352" title="6 byte ftw, 2 byte QDAC">vranges</a>;
<a name="l01119"></a><a class="code" href="structLLC200__INIT.html#f9afe25081ca9b98465ac7afc2e4af69">01119</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="structLLC200__INIT.html#f9afe25081ca9b98465ac7afc2e4af69">offsets</a>[16];   
<a name="l01120"></a><a class="code" href="structLLC200__INIT.html#d50bacbb3c0a9aed72caaa7d2b9ea43e">01120</a>         <span class="keywordtype">unsigned</span> <a class="code" href="structLLC200__INIT.html#d50bacbb3c0a9aed72caaa7d2b9ea43e" title="channels 1.">trig</a>;                
<a name="l01121"></a><a class="code" href="structLLC200__INIT.html#ddc49bb4869e6fbdc76c1bb0e0521b42">01121</a>         <span class="keywordtype">unsigned</span> <a class="code" href="structLLC200__INIT.html#ddc49bb4869e6fbdc76c1bb0e0521b42" title="trigger definition">channel_mask</a>;        
<a name="l01122"></a><a class="code" href="structLLC200__INIT.html#8e93592179a3a9f8e6f53d820b9ed070">01122</a>         <span class="keywordtype">unsigned</span> <a class="code" href="structLLC200__INIT.html#8e93592179a3a9f8e6f53d820b9ed070" title="0xf,0xff,0xfff,0xffff {4m,8,12,16}">int_clk</a>;             
<a name="l01125"></a>01125 }
<a name="l01126"></a>01126  <a class="code" href="acq200__hostdrv_8mod_8c.html#804f230e6220e338767d15b94fc5801d">__attribute__</a> ((<a class="code" href="acq32busprot_8h.html#13d5af44edbb6018c0a9e87d10f94eb3" title="LLC200_INIT acq216 host side buffer for host side initialisation.">packed</a>)); 
<a name="l01127"></a>01127 
<a name="l01128"></a>01128 <span class="comment">/* OR to LLC200_INIT.channel_mask if antiphase */</span>
<a name="l01129"></a><a class="code" href="acq32busprot_8h.html#2d5e11f8a7092a11354994533191c6b5">01129</a> <span class="preprocessor">#define LLC200_INIT_CHANNEL_MASK_ANTIPHASE 0x80000000</span>
<a name="l01130"></a>01130 <span class="preprocessor"></span>
<a name="l01131"></a>01131 <span class="comment">/* block length definition in channel_mask block length in 1KBytes units */</span>
<a name="l01132"></a><a class="code" href="acq32busprot_8h.html#9c841c9d6bc88983e36295113a04ec6a">01132</a> <span class="preprocessor">#define LLC200_INIT_CHANNEL_MASK_BLOCKLEN_MASK 0x0fff0000</span>
<a name="l01133"></a><a class="code" href="acq32busprot_8h.html#d5099a93f0cdc971579a28173016b1a2">01133</a> <span class="preprocessor"></span><span class="preprocessor">#define LLC200_INIT_CHANNEL_MASK_BLOCKLEN_SHIFT 16</span>
<a name="l01134"></a><a class="code" href="acq32busprot_8h.html#30ee099f268928b416f30a345ef371cd">01134</a> <span class="preprocessor"></span><span class="preprocessor">#define LLC200_INIT_CHANNEL_BLOCKLEN_1K 10</span>
<a name="l01135"></a>01135 <span class="preprocessor"></span>
<a name="l01136"></a>01136 
<a name="l01137"></a>01137 
<a name="l01138"></a>01138 <span class="comment">/* ... possibility to init other params from here .. */</span>
<a name="l01139"></a>01139 
<a name="l01141"></a><a class="code" href="acq32busprot_8h.html#488b5845007bd5afbafa98e61a668b01">01141</a> <span class="preprocessor">#define LLCV2_STATUS_MBOX0  0</span>
<a name="l01142"></a><a class="code" href="acq32busprot_8h.html#37f5c7653bd37b5ca40138f287a6dd5d">01142</a> <span class="preprocessor"></span><span class="preprocessor">#define LLCV2_STATUS_MBOX1  1 </span>
<a name="l01143"></a><a class="code" href="acq32busprot_8h.html#6ae5245ea78c537b1c11dab0fd3db906">01143</a> <span class="preprocessor"></span><span class="preprocessor">#define LLCV2_STATUS_MBOX2  2</span>
<a name="l01144"></a><a class="code" href="acq32busprot_8h.html#3f33fad738b1cbf1a0eae84725aaca17">01144</a> <span class="preprocessor"></span><span class="preprocessor">#define LLCV2_STATUS_MBOX3  3</span>
<a name="l01145"></a><a class="code" href="acq32busprot_8h.html#cbb8fb87fa9777a548c05f98ff5a5728">01145</a> <span class="preprocessor"></span><span class="preprocessor">#define LLCV2_STATUS_DIO    4     </span>
<a name="l01146"></a><a class="code" href="acq32busprot_8h.html#9734860aedc92d3964919615e37e0893">01146</a> <span class="preprocessor">#define LLCV2_STATUS_TINST  5     </span>
<a name="l01147"></a><a class="code" href="acq32busprot_8h.html#606b3b65e77d12fc80fdf4403e1b9cb1">01147</a> <span class="preprocessor">#define LLCV2_STATUS_TLATCH 6     </span>
<a name="l01148"></a><a class="code" href="acq32busprot_8h.html#0dd8d74d93cc621758418b0f3c5027d0">01148</a> <span class="preprocessor">#define LLCV2_STATUS_BDR    7     </span>
<a name="l01153"></a>01153 <span class="preprocessor"></span><span class="comment">/* offset in Output vector u32[index] */</span>
<a name="l01154"></a><a class="code" href="acq32busprot_8h.html#60db608fad8ad7dec056bd024cf92d79">01154</a> <span class="preprocessor">#define LLC_SYNC2V_DO       8</span>
<a name="l01155"></a>01155 <span class="preprocessor"></span>
<a name="l01156"></a>01156 <span class="comment">/* offset in Input vector u32[index] */</span>
<a name="l01157"></a>01157 
<a name="l01158"></a><a class="code" href="acq32busprot_8h.html#0c82d54238387dbdd863debfe388281a">01158</a> <span class="preprocessor">#define LLC_SYNC2V_IN_MBOX0  LLCV2_STATUS_MBOX0    </span><span class="comment">/* [ 0] */</span>
<a name="l01159"></a><a class="code" href="acq32busprot_8h.html#73fab82aaf3e729c5d673761ecf9e841">01159</a> <span class="preprocessor">#define LLC_SYNC2V_IN_MBOX1  LLCV2_STATUS_MBOX1    </span><span class="comment">/* [ 1] */</span>
<a name="l01160"></a><a class="code" href="acq32busprot_8h.html#99d4753d13beb9fcc3a7179c7b830330">01160</a> <span class="preprocessor">#define LLC_SYNC2V_IN_MBOX2  LLCV2_STATUS_MBOX2    </span><span class="comment">/* [ 2] */</span>
<a name="l01161"></a><a class="code" href="acq32busprot_8h.html#2786f0f36301b269f58c2804dca757f0">01161</a> <span class="preprocessor">#define LLC_SYNC2V_IN_MBOX3  LLCV2_STATUS_MBOX3    </span><span class="comment">/* [ 3] */</span>
<a name="l01162"></a><a class="code" href="acq32busprot_8h.html#cd3e637f933d6c8a922c4d32804c213e">01162</a> <span class="preprocessor">#define LLC_SYNC2V_IN_DIO6   LLCV2_STATUS_DIO      </span><span class="comment">/* [ 4] DI6 values */</span>
<a name="l01163"></a><a class="code" href="acq32busprot_8h.html#a19eea44e22c679728f1e167fbf0d2e6">01163</a> <span class="preprocessor">#define LLC_SYNC2V_IN_TINST  LLCV2_STATUS_TINST    </span><span class="comment">/* [ 5] Garbage for SYNC2V*/</span>
<a name="l01164"></a><a class="code" href="acq32busprot_8h.html#67b123f47f3e33b6d903120297a510cf">01164</a> <span class="preprocessor">#define LLC_SYNC2V_IN_TLATCH LLCV2_STATUS_TLATCH   </span><span class="comment">/* [ 6] HW TLATCH 11:0 */</span>
<a name="l01165"></a><a class="code" href="acq32busprot_8h.html#7ddc9020c7a153c2110bca8475ecc42f">01165</a> <span class="preprocessor">#define LLC_SYNC2V_IN_BDR    LLCV2_STATUS_BDR      </span><span class="comment">/* [ 7] 0xdeadbeef */</span>
<a name="l01166"></a><a class="code" href="acq32busprot_8h.html#8578f46f4967c84b0c4d371a593adc4a">01166</a> <span class="preprocessor">#define LLC_SYNC2V_IN_ITER   (LLCV2_STATUS_BDR+1)  </span><span class="comment">/* [ 8] Iteration */</span>
<a name="l01167"></a><a class="code" href="acq32busprot_8h.html#f0c093c011813500e6d808cd3625bd86">01167</a> <span class="preprocessor">#define LLC_SYNC2V_IN_DI32   (LLCV2_STATUS_BDR+2)  </span><span class="comment">/* [ 9] DI32 values */</span>
<a name="l01168"></a><a class="code" href="acq32busprot_8h.html#b794ac71c15dcaa8c6298adb5fcb93bf">01168</a> <span class="preprocessor">#define LLC_SYNC2V_IN_LASTE  (LLCV2_STATUS_BDR+3)  </span><span class="comment">/* [10] ITER last error */</span>
<a name="l01169"></a><a class="code" href="acq32busprot_8h.html#3956b1be261dddfe7cfe76417cb7e422">01169</a> <span class="preprocessor">#define LLC_SYNC2V_IN_TLAT32 (LLCV2_STATUS_BDR+4)  </span><span class="comment">/* [11] SW TLATCH 31:0 [OPT] */</span>
<a name="l01170"></a><a class="code" href="acq32busprot_8h.html#3fe37255097248778e5750b8bd21c210">01170</a> <span class="preprocessor">#define LLC_SYNC2V_IN_VERID  (LLCV2_STATUS_BDR+5)  </span><span class="comment">/* [12] Version ID */</span>
<a name="l01171"></a><a class="code" href="acq32busprot_8h.html#2846827dd9788139e98dbe29ebde74ef">01171</a> <span class="preprocessor">#define LLC_SYNC2V_IN_SCOUNT (LLCV2_STATUS_BDR+6)  </span><span class="comment">/* [13] Sample Count */</span>
<a name="l01172"></a><a class="code" href="acq32busprot_8h.html#01bbe3fc26da248bb319d221e1a7c300">01172</a> <span class="preprocessor">#define LLC_SYNC2V_IN_FIFSTA (LLCV2_STATUS_BDR+7)  </span><span class="comment">/* [14] FIFSTAT */</span>
<a name="l01173"></a><a class="code" href="acq32busprot_8h.html#eed705021f2b90703c1b42d00bd73c8d">01173</a> <span class="preprocessor">#define LLC_SYNC2V_IN_LAST   (LLCV2_STATUS_MBOX0+15) </span><span class="comment">/* [15] */</span>
<a name="l01174"></a><a class="code" href="acq32busprot_8h.html#cb68994496fc9517414b0c490aff6da0">01174</a> <span class="preprocessor">#define LLC_SYNC2V_IDLE_PAT 0x2f2fc0de       </span><span class="comment">/* fills remainder */</span>
<a name="l01175"></a>01175 
<a name="l01187"></a><a class="code" href="acq32busprot_8h.html#e91278afcf4b356a102fcdbd959d3e4b">01187</a> <span class="preprocessor">#define BP_FC_SETMODE_HTM fch </span>
<a name="l01188"></a>01188 <span class="preprocessor"></span>
<a name="l01189"></a>01189 <span class="comment">/*</span>
<a name="l01190"></a>01190 <span class="comment"> * V2 mode supplies full local status, local status buffer is </span>
<a name="l01191"></a>01191 <span class="comment"> * data_buffer_length / (32*sizeof(short)) * sizeof(unsigned) long</span>
<a name="l01192"></a>01192 <span class="comment"> */</span>
<a name="l01193"></a><a class="code" href="acq32busprot_8h.html#906b9afff64cb2de72216d7a4353db78">01193</a> <span class="preprocessor">#define BP_FC_SETMODE_HTM_V2    0x80</span>
<a name="l01194"></a><a class="code" href="acq32busprot_8h.html#94e869388492cbac0dae85f686f907f7">01194</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SETMODE_HTM_STATUSBUF 0x40 // Status increments in host buffer</span>
<a name="l01195"></a><a class="code" href="acq32busprot_8h.html#a64c2e95dcd67d19902046e67bd84364">01195</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_FC_SETMODE_HTM_HOFF  0x1f  // Specify holdoff in usecs</span>
<a name="l01196"></a>01196 <span class="preprocessor"></span>
<a name="l01197"></a>01197 <span class="comment">/*</span>
<a name="l01198"></a>01198 <span class="comment"> * Holdoff: ACQ32 delays sending data for #microsecs set in HOFF field</span>
<a name="l01199"></a>01199 <span class="comment"> * Most useful to ensure a give board is LAST - this is the one that</span>
<a name="l01200"></a>01200 <span class="comment"> * should interrupt</span>
<a name="l01201"></a>01201 <span class="comment"> */</span>
<a name="l01202"></a>01202 
<a name="l01203"></a>01203 <span class="comment">/*</span>
<a name="l01204"></a>01204 <span class="comment"> * in V2, low bits of next address have significance</span>
<a name="l01205"></a>01205 <span class="comment"> */</span>
<a name="l01206"></a><a class="code" href="acq32busprot_8h.html#f21b0a32ca26c52b1af75c0240019323">01206</a> <span class="preprocessor">#define HTM_V2_STATUS_OVERRUN 0x1</span>
<a name="l01207"></a><a class="code" href="acq32busprot_8h.html#7486aa1127ec7b6b9d8755b160e77854">01207</a> <span class="preprocessor"></span><span class="preprocessor">#define HTM_V2_STATUS_COMPLETE 0x2</span>
<a name="l01208"></a>01208 <span class="preprocessor"></span>
<a name="l01209"></a>01209 
<a name="l01210"></a>01210 <span class="comment">/*</span>
<a name="l01211"></a>01211 <span class="comment"> * and after entering HTM, the following defs apply</span>
<a name="l01212"></a>01212 <span class="comment"> */</span>
<a name="l01213"></a>01213 
<a name="l01214"></a>01214 <span class="comment">/* mailboxes: */</span>
<a name="l01215"></a>01215 
<a name="l01216"></a><a class="code" href="acq32busprot_8h.html#05ba02f2369362bc1410e9c9cab0a13d">01216</a> <span class="preprocessor">#define BP_MB_HTM_CSR            0       // M - Control Status reg</span>
<a name="l01217"></a><a class="code" href="acq32busprot_8h.html#7fc6d89a4b2bc793b9dc6bab7ff3cc66">01217</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_MB_HTM_DATA_ADDR      1       // M - address of base of host mem buf</span>
<a name="l01218"></a><a class="code" href="acq32busprot_8h.html#e4b85d16a8952c2a69d2867f027265ce">01218</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_MB_HTM_STATUS_ADDR    2       // M - address of status word host mem</span>
<a name="l01219"></a><a class="code" href="acq32busprot_8h.html#329c2b32aa19f2d18c9fa4589a205e61">01219</a> <span class="preprocessor"></span><span class="preprocessor">#define BP_MB_HTM_CURRENT_ADDR   3       // S - current data mem pointer</span>
<a name="l01220"></a>01220 <span class="preprocessor"></span>
<a name="l01221"></a>01221 <span class="comment">/* WARNING:unfortunately this is a shared reg, so extreme care is needed*/</span>
<a name="l01222"></a>01222 <span class="comment">/* Control reg bits */</span>
<a name="l01223"></a>01223 
<a name="l01224"></a><a class="code" href="acq32busprot_8h.html#aa15fea75eed7d079896b88708dd8abe">01224</a> <span class="preprocessor">#define HTM_CSR_SACK        0x80000000  // S reports command ACK</span>
<a name="l01225"></a><a class="code" href="acq32busprot_8h.html#b3e420149b9efa320d4020859df1d941">01225</a> <span class="preprocessor"></span><span class="preprocessor">#define HTM_CSR_SNACK       0x40000000  // S slave reports negative ACK</span>
<a name="l01226"></a>01226 <span class="preprocessor"></span>
<a name="l01227"></a><a class="code" href="acq32busprot_8h.html#3d30c09bf0c5afe8f4d31c42eff088ab">01227</a> <span class="preprocessor">#define HTM_CSR_READY       0x10000000  // S reports ready for commands</span>
<a name="l01228"></a><a class="code" href="acq32busprot_8h.html#5063aa867e6d348d5ab14fb99d2868eb">01228</a> <span class="preprocessor"></span><span class="preprocessor">#define HTM_CSR_S_IS_ARMED  0x08000000  // S reports ADC ARMED</span>
<a name="l01229"></a><a class="code" href="acq32busprot_8h.html#ef401af3b4317e541f3b70beaeea2323">01229</a> <span class="preprocessor"></span><span class="preprocessor">#define HTM_CSR_S_OVERRUN   0x04000000  // S reports FIFO overrun</span>
<a name="l01230"></a><a class="code" href="acq32busprot_8h.html#436644d34f3ae38bd73db089f87d099b">01230</a> <span class="preprocessor"></span><span class="preprocessor">#define HTM_CSR_S_COMPLETE  0x02000000</span>
<a name="l01231"></a>01231 <span class="preprocessor"></span>
<a name="l01232"></a><a class="code" href="acq32busprot_8h.html#8ff692e8a7981aa292d71b3cdc91678f">01232</a> <span class="preprocessor">#define HTM_CSR_M_SETADDR   0x00000010  // MP load new DATA_ADDR</span>
<a name="l01233"></a><a class="code" href="acq32busprot_8h.html#4c2f0994af4d835de7d36cbdeaf05688">01233</a> <span class="preprocessor"></span><span class="preprocessor">#define HTM_CSR_M_RECYCLE   0x00000020  // M buffer is cyclic</span>
<a name="l01234"></a><a class="code" href="acq32busprot_8h.html#152dc27badeffa315b9e3b6f0adaa387">01234</a> <span class="preprocessor"></span><span class="preprocessor">#define HTM_CSR_M_INTERRUPT 0x00000100  // M interrupt on trnasfer done</span>
<a name="l01235"></a><a class="code" href="acq32busprot_8h.html#67006c3dfa8ef54136f1cedc253372e0">01235</a> <span class="preprocessor"></span><span class="preprocessor">#define HTM_HOSTBUF_MB      0x00fff000  // M host buf size in MB</span>
<a name="l01236"></a>01236 <span class="preprocessor"></span>
<a name="l01237"></a><a class="code" href="acq32busprot_8h.html#963ee904e0f98b6d19c2d3c0c155ad14">01237</a> <span class="preprocessor">#define HTM_CSR_M_ESC       0x00000004  // MP SET TRUE TO ESCAPE to normal ops</span>
<a name="l01238"></a><a class="code" href="acq32busprot_8h.html#0037e3697da7192487cb3cfb265d9387">01238</a> <span class="preprocessor"></span><span class="preprocessor">#define HTM_CSR_M_ARM       0x00000002  // ML set true to arm</span>
<a name="l01239"></a>01239 <span class="preprocessor"></span>
<a name="l01240"></a><a class="code" href="acq32busprot_8h.html#192fc24a6b564ce70a336f9e592ad540">01240</a> <span class="preprocessor">#define HTM_GET_BUFFLEN_BYTES(csr) ( ((csr)&amp;HTM_HOSTBUF_MB)&lt;&lt;(20-12) )</span>
<a name="l01241"></a><a class="code" href="acq32busprot_8h.html#a3a3a800dc0f0cb81e421c1e9afd84d9">01241</a> <span class="preprocessor"></span><span class="preprocessor">#define HTM_SET_BUFFLEN_BYTES(len) ( ((len)&gt;&gt;20)&lt;&lt;12 )</span>
<a name="l01242"></a>01242 <span class="preprocessor"></span>
<a name="l01243"></a>01243 <span class="comment">// prams - none</span>
<a name="l01244"></a>01244 
<a name="l01245"></a>01245 <span class="comment">/*</span>
<a name="l01246"></a>01246 <span class="comment"> * sending commands over i2o</span>
<a name="l01247"></a>01247 <span class="comment"> */</span>
<a name="l01248"></a>01248  
<a name="l01249"></a><a class="code" href="acq32busprot_8h.html#a797df4e133a931d1276a8af913a723e">01249</a> <span class="preprocessor">#define MT_COMMAND_PACKET    (fcz&lt;&lt;MT_TYPE_SHIFT)</span>
<a name="l01250"></a>01250 <span class="preprocessor"></span>
<a name="l01251"></a>01251 <span class="comment">/*</span>
<a name="l01252"></a>01252 <span class="comment"> * subtype codes into PRAM field</span>
<a name="l01253"></a>01253 <span class="comment"> */</span>
<a name="l01254"></a>01254 
<a name="l01255"></a><a class="code" href="acq32busprot_8h.html#3b0e20168a42a3804d5ab700f48c4076">01255</a> <span class="preprocessor">#define MAKE_MT_COMMAND( subtype ) (MT_COMMAND_PACKET|(subtype))</span>
<a name="l01256"></a>01256 <span class="preprocessor"></span>
<a name="l01257"></a><a class="code" href="acq32busprot_8h.html#f32efb1a7057f1388f8c0b06834fb5a3">01257</a> <span class="keyword">enum</span> <a class="code" href="acq32busprot_8h.html#f32efb1a7057f1388f8c0b06834fb5a3">MTC_SUBTYPES</a> {
<a name="l01258"></a><a class="code" href="acq32busprot_8h.html#f32efb1a7057f1388f8c0b06834fb5a3fe9ecfce90ee69a3a15589f4a20c268c">01258</a>     <a class="code" href="acq32busprot_8h.html#f32efb1a7057f1388f8c0b06834fb5a3fe9ecfce90ee69a3a15589f4a20c268c">MTC_TEST</a>,
<a name="l01259"></a><a class="code" href="acq32busprot_8h.html#f32efb1a7057f1388f8c0b06834fb5a36af28e6604d9c3518ed06c682d694776">01259</a>     <a class="code" href="acq32busprot_8h.html#f32efb1a7057f1388f8c0b06834fb5a36af28e6604d9c3518ed06c682d694776">MTC_HOST_REQUEST_DATA</a>,
<a name="l01260"></a><a class="code" href="acq32busprot_8h.html#f32efb1a7057f1388f8c0b06834fb5a3c4bc5b9ea964d6c6b0af0fcaab836e65">01260</a>     <a class="code" href="acq32busprot_8h.html#f32efb1a7057f1388f8c0b06834fb5a3c4bc5b9ea964d6c6b0af0fcaab836e65">MTC_LOAD_AO</a>,
<a name="l01261"></a><a class="code" href="acq32busprot_8h.html#f32efb1a7057f1388f8c0b06834fb5a32951cac1b6c260642f04a19eb24938be">01261</a>     <a class="code" href="acq32busprot_8h.html#f32efb1a7057f1388f8c0b06834fb5a32951cac1b6c260642f04a19eb24938be">MTC_LOAD_DO</a>,
<a name="l01262"></a><a class="code" href="acq32busprot_8h.html#f32efb1a7057f1388f8c0b06834fb5a36da0f5d708dc83c18f75e0f2bda6b420">01262</a>     <a class="code" href="acq32busprot_8h.html#f32efb1a7057f1388f8c0b06834fb5a36da0f5d708dc83c18f75e0f2bda6b420">MTC_DEBUG_TEXT</a>,
<a name="l01263"></a><a class="code" href="acq32busprot_8h.html#f32efb1a7057f1388f8c0b06834fb5a36b17bbf9e3d5bc51d83964ad9a6022fe">01263</a>     <a class="code" href="acq32busprot_8h.html#f32efb1a7057f1388f8c0b06834fb5a36b17bbf9e3d5bc51d83964ad9a6022fe">MTC_HOST_REQUEST_X_DATA</a>,
<a name="l01264"></a><a class="code" href="acq32busprot_8h.html#f32efb1a7057f1388f8c0b06834fb5a3b0ae2ec04530fadb6dc9f95ddcbeb156">01264</a>     <a class="code" href="acq32busprot_8h.html#f32efb1a7057f1388f8c0b06834fb5a3b0ae2ec04530fadb6dc9f95ddcbeb156">MTC_REQUEST_STATUS_CHANGE_NOTIFICATION</a>,
<a name="l01265"></a><a class="code" href="acq32busprot_8h.html#f32efb1a7057f1388f8c0b06834fb5a30f50d1246dea43d0acbee46712cbd535">01265</a>     <a class="code" href="acq32busprot_8h.html#f32efb1a7057f1388f8c0b06834fb5a30f50d1246dea43d0acbee46712cbd535">MTC_HOST_REQUEST_DATA_HOSTBOUND</a>,           <span class="comment">/* ACQ to HOST */</span>
<a name="l01266"></a><a class="code" href="acq32busprot_8h.html#f32efb1a7057f1388f8c0b06834fb5a3ff55b3ce0a7a76572419b5209ea6006f">01266</a>     <a class="code" href="acq32busprot_8h.html#f32efb1a7057f1388f8c0b06834fb5a3ff55b3ce0a7a76572419b5209ea6006f">MTC_HOST_REQUEST_DATA_ACQBOUND</a>,
<a name="l01267"></a><a class="code" href="acq32busprot_8h.html#f32efb1a7057f1388f8c0b06834fb5a34c9be4f95d1ab126037ef01b072b9d8e">01267</a>     <a class="code" href="acq32busprot_8h.html#f32efb1a7057f1388f8c0b06834fb5a34c9be4f95d1ab126037ef01b072b9d8e">MTC_LAST</a>
<a name="l01268"></a>01268 };
<a name="l01269"></a>01269 
<a name="l01270"></a>01270 
<a name="l01271"></a>01271 <span class="comment">/* </span>
<a name="l01272"></a>01272 <span class="comment"> * MTC_REQUEST_STATUS_CHANGE_NOTIFICATION</span>
<a name="l01273"></a>01273 <span class="comment"> */</span>
<a name="l01274"></a>01274  
<a name="l01275"></a><a class="code" href="structSTATUS__CHANGE__NOTIFICATION__REQUEST.html">01275</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structSTATUS__CHANGE__NOTIFICATION__REQUEST.html">STATUS_CHANGE_NOTIFICATION_REQUEST</a> {  
<a name="l01276"></a><a class="code" href="structSTATUS__CHANGE__NOTIFICATION__REQUEST.html#29e3d942c8fe38faa07bddc994aaa0b6">01276</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structSTATUS__CHANGE__NOTIFICATION__REQUEST.html#29e3d942c8fe38faa07bddc994aaa0b6">request_mask</a>;
<a name="l01277"></a><a class="code" href="structSTATUS__CHANGE__NOTIFICATION__REQUEST.html#47e4147635c87fe7d163b13f00ab7d0b">01277</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structSTATUS__CHANGE__NOTIFICATION__REQUEST.html#47e4147635c87fe7d163b13f00ab7d0b">response_mask</a>;
<a name="l01278"></a>01278 }
<a name="l01279"></a>01279     <a class="code" href="structSTATUS__CHANGE__NOTIFICATION__REQUEST.html">StatusChangeNotificationRequest</a>;
<a name="l01280"></a>01280 <span class="comment">/*</span>
<a name="l01281"></a>01281 <span class="comment"> * Host Request Data - supply zero terminated list of records</span>
<a name="l01282"></a>01282 <span class="comment"> * to govern the transfer.</span>
<a name="l01283"></a>01283 <span class="comment"> * return individual records via I2O when transfer done</span>
<a name="l01284"></a>01284 <span class="comment"> *</span>
<a name="l01285"></a>01285 <span class="comment"> * For 1G, pci is the pci bus address.</span>
<a name="l01286"></a>01286 <span class="comment"> * Bit for 2G, pci is the host bus offset =&gt; 0 is valid!!</span>
<a name="l01287"></a>01287 <span class="comment"> */</span>
<a name="l01288"></a><a class="code" href="structHOST__REQUEST__DATA__RECORD.html">01288</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structHOST__REQUEST__DATA__RECORD.html">HOST_REQUEST_DATA_RECORD</a> {
<a name="l01289"></a><a class="code" href="structHOST__REQUEST__DATA__RECORD.html#21fbc9c5fd9f1b8f3684a5ea16361a87">01289</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structHOST__REQUEST__DATA__RECORD.html#21fbc9c5fd9f1b8f3684a5ea16361a87">pci</a>;                              
<a name="l01290"></a><a class="code" href="structHOST__REQUEST__DATA__RECORD.html#0cd9981b8ce34d699c02f33cea3be83a">01290</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structHOST__REQUEST__DATA__RECORD.html#0cd9981b8ce34d699c02f33cea3be83a">start</a>;
<a name="l01291"></a><a class="code" href="structHOST__REQUEST__DATA__RECORD.html#98023880968fa942f39d273456089148">01291</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structHOST__REQUEST__DATA__RECORD.html#98023880968fa942f39d273456089148">nsamples</a>;        
<a name="l01292"></a><a class="code" href="structHOST__REQUEST__DATA__RECORD.html#ad7d09d204876c651661f4c6ca594fcf">01292</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="structHOST__REQUEST__DATA__RECORD.html#ad7d09d204876c651661f4c6ca594fcf">chan</a>;
<a name="l01293"></a><a class="code" href="structHOST__REQUEST__DATA__RECORD.html#6f6423195e059b67fbab659d2c8c522c">01293</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="structHOST__REQUEST__DATA__RECORD.html#6f6423195e059b67fbab659d2c8c522c">stride</a>;
<a name="l01294"></a>01294 }
<a name="l01295"></a>01295     <a class="code" href="structHOST__REQUEST__DATA__RECORD.html">HostRequestDataRecord</a>;
<a name="l01296"></a>01296 
<a name="l01297"></a>01297 <span class="comment">/*</span>
<a name="l01298"></a>01298 <span class="comment"> * optional flags for chan</span>
<a name="l01299"></a>01299 <span class="comment"> */</span>
<a name="l01300"></a>01300 
<a name="l01301"></a><a class="code" href="acq32busprot_8h.html#42f138f63ed855fd3184c6e783f6ba7d">01301</a> <span class="preprocessor">#define HRD_CHAN_IS_FILE 0x8000</span>
<a name="l01302"></a><a class="code" href="acq32busprot_8h.html#ad50b18667efac856ba9b954d34d8dbf">01302</a> <span class="preprocessor"></span><span class="preprocessor">#define HRD_CHAN_EOF     0x0400</span>
<a name="l01303"></a><a class="code" href="acq32busprot_8h.html#88d445d71cccce4ab009961cdc681371">01303</a> <span class="preprocessor"></span><span class="preprocessor">#define HRD_CHECKED      0x4000    </span><span class="comment">/* we have checked this one */</span>
<a name="l01304"></a><a class="code" href="acq32busprot_8h.html#acbe27a38c54726524b9551347ea72b9">01304</a> <span class="preprocessor">#define HRD_ABS_PCI      0x2000    </span><span class="comment">/* pci is absolute address  */</span>
<a name="l01305"></a><a class="code" href="acq32busprot_8h.html#843b6736bcf00f8c6385f3303637ef5f">01305</a> <span class="preprocessor">#define HRD_READ_NEXT    0x1000    </span><span class="comment">/* ignore start, just return next data */</span>
<a name="l01306"></a>01306 
<a name="l01307"></a><a class="code" href="acq32busprot_8h.html#e6941792a3abd6a7d3f8c0e346993f17">01307</a> <span class="preprocessor">#define HRD_CHANNEL(hrd)  (((hrd)-&gt;chan)&amp;0x0ff)</span>
<a name="l01308"></a><a class="code" href="acq32busprot_8h.html#060cdad650a402ced5bbda5360821489">01308</a> <span class="preprocessor"></span><span class="preprocessor">#define HRD_SPCLID(hrd)   (((hrd)-&gt;chan)&amp;0x07f)</span>
<a name="l01309"></a><a class="code" href="acq32busprot_8h.html#8ba221de8b190d0bd48e308987a088bf">01309</a> <span class="preprocessor"></span><span class="preprocessor">#define HRD_WAVETRACK    0x2000    </span><span class="comment">/* track coded as {0x00T{7:3}C{4:5}} */</span>
<a name="l01310"></a>01310 
<a name="l01311"></a><a class="code" href="acq32busprot_8h.html#6c5f3e1c43e090c6060609059a09a3a4">01311</a> <span class="preprocessor">#define HRD_TRACK(chan)    ((chan&gt;&gt;5)&amp;0x7)  </span><span class="comment">/* index from 0 */</span>
<a name="l01312"></a><a class="code" href="acq32busprot_8h.html#d773fa863bc2b1b6f631507094312228">01312</a> <span class="preprocessor">#define HRD_CHAN(chan)     (((chan)&amp;0x1f)+1)    </span><span class="comment">/* index from 0 */</span>
<a name="l01313"></a>01313 
<a name="l01314"></a>01314 <span class="comment">/* special "channel ids" =&gt; bit 7 set */</span>
<a name="l01315"></a><a class="code" href="acq32busprot_8h.html#3f56c67b91a4d5ff7f8685149e397817">01315</a> <span class="preprocessor">#define HRD_SPCLID_BATCHTO 99          </span><span class="comment">/* original batch in/out mech */</span>
<a name="l01316"></a><a class="code" href="acq32busprot_8h.html#da4e742f3a4292e5552012d0e78ed857">01316</a> <span class="preprocessor">#define HRD_SPCLID_BATCHOUT 100</span>
<a name="l01317"></a><a class="code" href="acq32busprot_8h.html#cb0871d46b2b6510664dd7c2a96fff44">01317</a> <span class="preprocessor"></span><span class="preprocessor">#define HRD_SPCLID_BATCHIO  101        </span><span class="comment">/* batch in/out on same channel */</span>
<a name="l01318"></a><a class="code" href="acq32busprot_8h.html#167bba607fd1cb2ad64a313e06577667">01318</a> <span class="preprocessor">#define HRD_SPCLID_BATCHRSH 102        </span><span class="comment">/* planned interactive rsh io   */</span>
<a name="l01319"></a>01319 
<a name="l01320"></a>01320 <span class="comment">/* text acqcmd : monitor 128+109 = 237 */</span>
<a name="l01321"></a><a class="code" href="acq32busprot_8h.html#b364e8c82bd21795d79d76e810d594ee">01321</a> <span class="preprocessor">#define HRD_SPCLID_ACQCMD   109</span>
<a name="l01322"></a>01322 <span class="preprocessor"></span>
<a name="l01323"></a>01323 <span class="comment">/*</span>
<a name="l01324"></a>01324 <span class="comment"> * Host Request Cross Sections Data - supply zero terminated list of records</span>
<a name="l01325"></a>01325 <span class="comment"> * to govern the transfer.</span>
<a name="l01326"></a>01326 <span class="comment"> * return individual records via I2O when transfer done</span>
<a name="l01327"></a>01327 <span class="comment"> */</span>
<a name="l01328"></a>01328 
<a name="l01329"></a><a class="code" href="acq32busprot_8h.html#0c6d699bb885d40cbe6d4827d52a8dc0">01329</a> <span class="preprocessor">#define REQUESTMAXBYTES( hrdr )    ((hrdr).nsamples)</span>
<a name="l01330"></a>01330 <span class="preprocessor"></span>
<a name="l01331"></a><a class="code" href="acq32busprot_8h.html#976f7fcbd51da820b1e82def88b34a6f">01331</a> <span class="preprocessor">#define START_LATEST    0xFFFFFFFF            // collect latest data from now</span>
<a name="l01332"></a>01332 <span class="preprocessor"></span>
<a name="l01333"></a>01333 <span class="comment">/*</span>
<a name="l01334"></a>01334 <span class="comment"> * AO data - data[0] is n data, data[1]..data[n] is the data to load</span>
<a name="l01335"></a>01335 <span class="comment"> *</span>
<a name="l01336"></a>01336 <span class="comment"> * DO data ??? the same ???</span>
<a name="l01337"></a>01337 <span class="comment"> */</span>
<a name="l01338"></a>01338 
<a name="l01339"></a><a class="code" href="structACQ32__PULL__OUTPUT__DATA__RECORD.html">01339</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structACQ32__PULL__OUTPUT__DATA__RECORD.html">ACQ32_PULL_OUTPUT_DATA_RECORD</a> {
<a name="l01340"></a><a class="code" href="structACQ32__PULL__OUTPUT__DATA__RECORD.html#5d2ee5dbf5afe732d84a5492b27d9a7e">01340</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structACQ32__PULL__OUTPUT__DATA__RECORD.html#5d2ee5dbf5afe732d84a5492b27d9a7e">src_pci</a>;
<a name="l01341"></a><a class="code" href="structACQ32__PULL__OUTPUT__DATA__RECORD.html#5c71303baff09ee0b684e296270a8958">01341</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structACQ32__PULL__OUTPUT__DATA__RECORD.html#5c71303baff09ee0b684e296270a8958">func</a>;                <span class="comment">// {BP_FC_SET_DACS|BP_FC_SET_DO}</span>
<a name="l01342"></a><a class="code" href="structACQ32__PULL__OUTPUT__DATA__RECORD.html#0c1ed405bc158ecd0db046cfab41148e">01342</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structACQ32__PULL__OUTPUT__DATA__RECORD.html#0c1ed405bc158ecd0db046cfab41148e">start</a>;
<a name="l01343"></a><a class="code" href="structACQ32__PULL__OUTPUT__DATA__RECORD.html#7ccfe026b1c54abf433eb6da7dc44994">01343</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structACQ32__PULL__OUTPUT__DATA__RECORD.html#7ccfe026b1c54abf433eb6da7dc44994">nsamples</a>;
<a name="l01344"></a><a class="code" href="structACQ32__PULL__OUTPUT__DATA__RECORD.html#a29644c5c2d1b75cebd81e121352e1a4">01344</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structACQ32__PULL__OUTPUT__DATA__RECORD.html#a29644c5c2d1b75cebd81e121352e1a4">data</a>[1];            <span class="comment">// { 1..nsamples] is the rest of the data</span>
<a name="l01345"></a>01345 }
<a name="l01346"></a>01346     <a class="code" href="structACQ32__PULL__OUTPUT__DATA__RECORD.html">Acq32PullOutputDataRecord</a>;
<a name="l01347"></a>01347 
<a name="l01348"></a>01348     
<a name="l01349"></a>01349             
<a name="l01350"></a>01350  
<a name="l01351"></a>01351  
<a name="l01352"></a>01352 <span class="comment">/*</span>
<a name="l01353"></a>01353 <span class="comment"> * TEST distributor data encoding</span>
<a name="l01354"></a>01354 <span class="comment"> */</span>
<a name="l01355"></a>01355 <span class="comment">/*</span>
<a name="l01356"></a>01356 <span class="comment"> * framed data for test:</span>
<a name="l01357"></a>01357 <span class="comment"> * aim is to encode entire sample info in 16 bits usng a frame structure</span>
<a name="l01358"></a>01358 <span class="comment"> *</span>
<a name="l01359"></a>01359 <span class="comment"> */</span>
<a name="l01360"></a>01360  
<a name="l01361"></a><a class="code" href="acq32busprot_8h.html#8071aba782033457464058156135c117">01361</a> <span class="preprocessor">#define T_ISAMPLE_BIT   0x0040    // { d0, d1 ... d64 on successive subframes </span>
<a name="l01362"></a><a class="code" href="acq32busprot_8h.html#570cb24471acf4a235fa1ed0c6b079c7">01362</a> <span class="preprocessor"></span><span class="preprocessor">#define T_SUBFRAME_MASK 0x003f    // 64 sample subframe</span>
<a name="l01363"></a><a class="code" href="acq32busprot_8h.html#efb191b5b2d96260e452796d32cdf482">01363</a> <span class="preprocessor"></span><span class="preprocessor">#define T_CHANNEL_MASK  0x0f80    // {0..31} - channel ID</span>
<a name="l01364"></a><a class="code" href="acq32busprot_8h.html#927a791bf5336c7362ca7d00aae15fa6">01364</a> <span class="preprocessor"></span><span class="preprocessor">#define T_TRIGGER_BIT   0x8000    // set TRUE after trigger</span>
<a name="l01365"></a><a class="code" href="acq32busprot_8h.html#9af4d70e7fd8a1ed7969e191b97fe6ec">01365</a> <span class="preprocessor"></span><span class="preprocessor">#define T_RAMP_MASK     0x7000    // ramp major bits every 64 samples</span>
<a name="l01366"></a>01366 <span class="preprocessor"></span> 
<a name="l01367"></a>01367 <span class="comment">/*</span>
<a name="l01368"></a>01368 <span class="comment"> * setRoute encoding MTC_ACQ32CPCI_SET_ROUTE - obsolete on 2G</span>
<a name="l01369"></a>01369 <span class="comment"> */</span>
<a name="l01370"></a>01370 
<a name="l01371"></a><a class="code" href="acq32busprot_8h.html#dfe862456d777fccba4bb2ee0e1a1770">01371</a> <span class="preprocessor">#define BP_FC_CPCI_SET_ROUTE fcy // &lt;A0=func&gt; &lt;A1=route&gt;</span>
<a name="l01372"></a>01372 <span class="preprocessor"></span>
<a name="l01373"></a><a class="code" href="acq32busprot_8h.html#120c0d12728e7379e77fabe2fd8f034b">01373</a> <span class="preprocessor">#define BP_FC_CPCI_GETROUTE_STATUS fcy // &lt;A0=status&gt;</span>
<a name="l01374"></a>01374 <span class="preprocessor"></span><span class="comment">// BEWARE: func, dest defs map DIRECTLY to HW bits ... danger!</span>
<a name="l01375"></a>01375 
<a name="l01376"></a>01376 <span class="comment">// Store func as ONE of in A0</span>
<a name="l01377"></a>01377 
<a name="l01378"></a><a class="code" href="acq32busprot_8h.html#327d0c1c0efa0738d3b6d15cade0c542">01378</a> <span class="keyword">enum</span> <a class="code" href="acq32busprot_8h.html#327d0c1c0efa0738d3b6d15cade0c542">Q32C_SR_FUNC</a> {
<a name="l01379"></a><a class="code" href="acq32busprot_8h.html#327d0c1c0efa0738d3b6d15cade0c54207db8f58eab4a7fc497b8af0c1276006">01379</a>    <a class="code" href="acq32busprot_8h.html#327d0c1c0efa0738d3b6d15cade0c54207db8f58eab4a7fc497b8af0c1276006">Q32C_SR_FUNC_DI0</a>,
<a name="l01380"></a><a class="code" href="acq32busprot_8h.html#327d0c1c0efa0738d3b6d15cade0c5422a69ba07fc89dd5df6f4a7482b7551bf">01380</a>    <a class="code" href="acq32busprot_8h.html#327d0c1c0efa0738d3b6d15cade0c5422a69ba07fc89dd5df6f4a7482b7551bf">Q32C_SR_FUNC_DI1</a>,
<a name="l01381"></a><a class="code" href="acq32busprot_8h.html#327d0c1c0efa0738d3b6d15cade0c542dc94b7a917ad9bc867763a52c73f4218">01381</a>    <a class="code" href="acq32busprot_8h.html#327d0c1c0efa0738d3b6d15cade0c542dc94b7a917ad9bc867763a52c73f4218">Q32C_SR_FUNC_DI2</a>,
<a name="l01382"></a><a class="code" href="acq32busprot_8h.html#327d0c1c0efa0738d3b6d15cade0c542e9a0c951d4e7635689b02d8a6341e4a2">01382</a>    <a class="code" href="acq32busprot_8h.html#327d0c1c0efa0738d3b6d15cade0c542e9a0c951d4e7635689b02d8a6341e4a2">Q32C_SR_FUNC_DI3</a>,
<a name="l01383"></a><a class="code" href="acq32busprot_8h.html#327d0c1c0efa0738d3b6d15cade0c542167b620170fd3088e0c17f7cb67f830d">01383</a>    <a class="code" href="acq32busprot_8h.html#327d0c1c0efa0738d3b6d15cade0c542167b620170fd3088e0c17f7cb67f830d">Q32C_SR_FUNC_DI4</a>,
<a name="l01384"></a><a class="code" href="acq32busprot_8h.html#327d0c1c0efa0738d3b6d15cade0c542bbdac03cd7718c0e7a858821e47e23fe">01384</a>    <a class="code" href="acq32busprot_8h.html#327d0c1c0efa0738d3b6d15cade0c542bbdac03cd7718c0e7a858821e47e23fe">Q32C_SR_FUNC_DI5</a>,
<a name="l01385"></a>01385    
<a name="l01386"></a><a class="code" href="acq32busprot_8h.html#327d0c1c0efa0738d3b6d15cade0c542b2233c0f34e434488302d60040f36917">01386</a>    <a class="code" href="acq32busprot_8h.html#327d0c1c0efa0738d3b6d15cade0c542b2233c0f34e434488302d60040f36917">Q32C_SR_FUNC_AICLK</a> = 0,
<a name="l01387"></a><a class="code" href="acq32busprot_8h.html#327d0c1c0efa0738d3b6d15cade0c5427ea28de776f58409b5bb3f6da65cfcbf">01387</a>    <a class="code" href="acq32busprot_8h.html#327d0c1c0efa0738d3b6d15cade0c5427ea28de776f58409b5bb3f6da65cfcbf">Q32C_SR_FUNC_AITRIG</a>,
<a name="l01388"></a><a class="code" href="acq32busprot_8h.html#327d0c1c0efa0738d3b6d15cade0c5428b6b321fb3d6ce308b047ba048ca74a2">01388</a>    <a class="code" href="acq32busprot_8h.html#327d0c1c0efa0738d3b6d15cade0c5428b6b321fb3d6ce308b047ba048ca74a2">Q32C_SR_FUNC_AOCLK</a>,
<a name="l01389"></a><a class="code" href="acq32busprot_8h.html#327d0c1c0efa0738d3b6d15cade0c542d5a32feec9590254d921b97aa19b9bc0">01389</a>    <a class="code" href="acq32busprot_8h.html#327d0c1c0efa0738d3b6d15cade0c542d5a32feec9590254d921b97aa19b9bc0">Q32C_SR_FUNC_AOTRIG</a>,
<a name="l01390"></a><a class="code" href="acq32busprot_8h.html#327d0c1c0efa0738d3b6d15cade0c54260a426ef024cd895e61d3a5251628255">01390</a>    <a class="code" href="acq32busprot_8h.html#327d0c1c0efa0738d3b6d15cade0c54260a426ef024cd895e61d3a5251628255">Q32C_SR_FUNC_DOCLK</a>,
<a name="l01391"></a><a class="code" href="acq32busprot_8h.html#327d0c1c0efa0738d3b6d15cade0c542572d0b3d0fff6ba39bc7d3462ca48e15">01391</a>    <a class="code" href="acq32busprot_8h.html#327d0c1c0efa0738d3b6d15cade0c542572d0b3d0fff6ba39bc7d3462ca48e15">Q32C_SR_FUNC_DOTRIG</a>
<a name="l01392"></a>01392 };
<a name="l01393"></a>01393 
<a name="l01394"></a>01394 <span class="comment">// store dest as OR MASK of</span>
<a name="l01395"></a><a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfa">01395</a> <span class="keyword">enum</span> <a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfa">Q32C_SR_DEST</a> {
<a name="l01396"></a>01396     
<a name="l01397"></a><a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfa113e49cc9ee5812ffe570c5e3b80f656">01397</a>     <a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfa113e49cc9ee5812ffe570c5e3b80f656">Q32C_SR_DEST_NONE</a>= 0x00,
<a name="l01398"></a>01398     
<a name="l01399"></a><a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfa43d91038cfbdaf3504a577e30bc5629f">01399</a>     <a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfa43d91038cfbdaf3504a577e30bc5629f">Q32C_SR_DEST_MIx</a> = 0x01,
<a name="l01400"></a><a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfa06bbaa88960c80b244971327d769aa0b">01400</a>     <a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfa06bbaa88960c80b244971327d769aa0b">Q32C_SR_DEST_MOx</a> = 0x02,
<a name="l01401"></a>01401     
<a name="l01402"></a><a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfa40dfe3253aae0923f9a040b38db2276c">01402</a>     <a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfa40dfe3253aae0923f9a040b38db2276c">Q32C_SR_DEST_J50</a> = 0x04,
<a name="l01403"></a><a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfae76cc0ead8de63ebb5dd41e27f6f7cac">01403</a>     <a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfae76cc0ead8de63ebb5dd41e27f6f7cac">Q32C_SR_DEST_J51</a> = 0x04,
<a name="l01404"></a><a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfa17e84b7dcaa175723c224510df1bf7b2">01404</a>     <a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfa17e84b7dcaa175723c224510df1bf7b2">Q32C_SR_DEST_J52</a> = 0x04,
<a name="l01405"></a><a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfa9637ec1f90d9a67aa9bf2868ad7d8c33">01405</a>     <a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfa9637ec1f90d9a67aa9bf2868ad7d8c33">Q32C_SR_DEST_J53</a> = 0x04,
<a name="l01406"></a><a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfaf9d2b8ccca2ad954ae459867588ff30e">01406</a>     <a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfaf9d2b8ccca2ad954ae459867588ff30e">Q32C_SR_DEST_J34</a> = 0x04,
<a name="l01407"></a><a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfa7235ae687b68f645cb2cb87a19d99efc">01407</a>     <a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfa7235ae687b68f645cb2cb87a19d99efc">Q32C_SR_DEST_J35</a> = 0x04,
<a name="l01408"></a>01408     
<a name="l01409"></a><a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfad34263f2589f1392507ce301e2c821f9">01409</a>     <a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfad34263f2589f1392507ce301e2c821f9">Q32C_SR_DEST_PXI_TRIG0</a> = 0x08, 
<a name="l01410"></a><a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfab9afe558a1180fb30081f796227fd8fd">01410</a>     <a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfab9afe558a1180fb30081f796227fd8fd">Q32C_SR_DEST_PXI_TRIG1</a> = 0x08, 
<a name="l01411"></a><a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfa9f791ea8da7511ab7c7fd23c69d46e02">01411</a>     <a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfa9f791ea8da7511ab7c7fd23c69d46e02">Q32C_SR_DEST_PXI_TRIG2</a> = 0x08, 
<a name="l01412"></a><a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfa0a0cbd3aa4024a9122e36e4f196c9029">01412</a>     <a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfa0a0cbd3aa4024a9122e36e4f196c9029">Q32C_SR_DEST_PXI_TRIG3</a> = 0x08, 
<a name="l01413"></a><a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfa5a9501600bd7412956fa7cd9fe22a62f">01413</a>     <a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfa5a9501600bd7412956fa7cd9fe22a62f">Q32C_SR_DEST_PXI_TRIG4</a> = 0x08,
<a name="l01414"></a><a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfa1bdae28544e5527cc5285030399156e0">01414</a>     <a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfa1bdae28544e5527cc5285030399156e0">Q32C_SR_DEST_PXI_TRIG5</a> = 0x08,
<a name="l01415"></a>01415     
<a name="l01416"></a><a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfa903b76a7132ae899c89dbce39ef52474">01416</a>     <a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfa903b76a7132ae899c89dbce39ef52474">Q32C_SR_DEST_PXI_TRIG6</a> = 0x10, 
<a name="l01417"></a><a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfa00a637c7f4e4087f2da84ab8ab2a8273">01417</a>     <a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfa00a637c7f4e4087f2da84ab8ab2a8273">Q32C_SR_DEST_PXI_TRIG7</a> = 0x10,
<a name="l01418"></a><a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfa3606f19d5faf4eb7401093ce76c33ea1">01418</a>     <a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfa3606f19d5faf4eb7401093ce76c33ea1">Q32C_SR_DEST_PXI_STAR</a>  = 0x10,
<a name="l01419"></a><a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfa7a4f2b2b5446cecac2c29d3984d42862">01419</a>     <a class="code" href="acq32busprot_8h.html#727346e0c2e43fb84e0d9a6c15c2cbfa7a4f2b2b5446cecac2c29d3984d42862">Q32C_SR_DEST_PXI_CLK10</a> = 0x10
<a name="l01420"></a>01420 };
<a name="l01421"></a>01421 
<a name="l01422"></a>01422 
<a name="l01423"></a>01423 <span class="comment">/*</span>
<a name="l01424"></a>01424 <span class="comment"> * PUSH model message passing using I2O</span>
<a name="l01425"></a>01425 <span class="comment"> */</span>
<a name="l01426"></a>01426 
<a name="l01427"></a>01427 <span class="comment">// a message fits into 1K</span>
<a name="l01428"></a>01428  
<a name="l01429"></a><a class="code" href="acq32busprot_8h.html#b118de1a5262506f38320ac15c4b2045">01429</a> <span class="preprocessor">#define MAKE_ID_DTACQ(n) (((n)&amp;0x7f)&lt;&lt;8|0xDC)</span>
<a name="l01430"></a><a class="code" href="acq32busprot_8h.html#4dc50c253cba81c3c9d5080ebabe8314">01430</a> <span class="preprocessor"></span><span class="preprocessor">#define IS_ID_DTACQ(id)  (((id)&amp;0xff)==0xDC)</span>
<a name="l01431"></a><a class="code" href="acq32busprot_8h.html#67ff56aee49491fefc016805ef69abba">01431</a> <span class="preprocessor"></span><span class="preprocessor">#define GET_IDN(id)      ((id)&gt;&gt;8)</span>
<a name="l01432"></a>01432 <span class="preprocessor"></span>
<a name="l01433"></a><a class="code" href="structMESSAGE__HEADER.html">01433</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structMESSAGE__HEADER.html">MESSAGE_HEADER</a> {
<a name="l01434"></a><a class="code" href="structMESSAGE__HEADER.html#1616af8600455db56c559bc3353066b4">01434</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="structMESSAGE__HEADER.html#1616af8600455db56c559bc3353066b4">id</a>;          <span class="comment">// %0x7fff  ID for the message</span>
<a name="l01435"></a><a class="code" href="structMESSAGE__HEADER.html#dd82d11a05de66d2c471219ce0d98567">01435</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="structMESSAGE__HEADER.html#dd82d11a05de66d2c471219ce0d98567">length</a>;      <span class="comment">// #bytes in data</span>
<a name="l01436"></a><a class="code" href="structMESSAGE__HEADER.html#ef210a5b787f85a6e16b4ed175e33a02">01436</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structMESSAGE__HEADER.html#ef210a5b787f85a6e16b4ed175e33a02">type</a>;
<a name="l01437"></a>01437 }
<a name="l01438"></a>01438         <a class="code" href="structMESSAGE__HEADER.html">MessageHeader</a>;
<a name="l01439"></a>01439 
<a name="l01440"></a><a class="code" href="acq32busprot_8h.html#4aaa9be3d7a4a5a73276444a13c48526">01440</a> <span class="preprocessor">#define MID_NOT_VALID       0x8000  // host sets this to mark ID</span>
<a name="l01441"></a>01441 <span class="preprocessor"></span>
<a name="l01442"></a><a class="code" href="acq32busprot_8h.html#312bf4a553e77723002b643a318289ae">01442</a> <span class="preprocessor">#define MESSAGE_HEADER_SIZE (sizeof(MessageHeader))</span>
<a name="l01443"></a><a class="code" href="acq32busprot_8h.html#a2dfc63100e2bed7efb1b0cd09dea107">01443</a> <span class="preprocessor"></span><span class="preprocessor">#define MESSAGE_LEN         (0x400)</span>
<a name="l01444"></a><a class="code" href="acq32busprot_8h.html#ef0b468bbdab6a06814a05b2ecd6cd40">01444</a> <span class="preprocessor"></span><span class="preprocessor">#define MESSAGE_DATA_LEN    (MESSAGE_LEN-MESSAGE_HEADER_SIZE)</span>
<a name="l01445"></a><a class="code" href="acq32busprot_8h.html#7cf587e23528c2d83f059bdd11a881be">01445</a> <span class="preprocessor"></span><span class="preprocessor">#define HRDR_SZ             (sizeof(struct HOST_REQUEST_DATA_RECORD))</span>
<a name="l01446"></a><a class="code" href="acq32busprot_8h.html#2ec04a339eef59d2b9bf2444d675e7db">01446</a> <span class="preprocessor"></span><span class="preprocessor">#define MESSAGE_HRDR_LEN    (MESSAGE_DATA_LEN/HRDR_SZ)</span>
<a name="l01447"></a>01447 <span class="preprocessor"></span>
<a name="l01448"></a><a class="code" href="acq32busprot_8h.html#d40f59533c88cb7610be2ff004202065">01448</a> <span class="preprocessor">#define MESSAGE_ACTUAL_LEN(message) \</span>
<a name="l01449"></a>01449 <span class="preprocessor">       (sizeof(MessageHeader) + (message)-&gt;header.length)</span>
<a name="l01450"></a>01450 <span class="preprocessor"></span>
<a name="l01452"></a><a class="code" href="structMESSAGE.html">01452</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structMESSAGE.html" title="I2O message handling.">MESSAGE</a> { 
<a name="l01453"></a><a class="code" href="structMESSAGE.html#8738e66bc278972d871ee47ab723a541">01453</a>     <a class="code" href="structMESSAGE__HEADER.html">MessageHeader</a> <a class="code" href="structMESSAGE.html#8738e66bc278972d871ee47ab723a541">header</a>;
<a name="l01454"></a>01454     <span class="keyword">union</span>{
<a name="l01455"></a><a class="code" href="structMESSAGE.html#ab52f4aca632feaeae5eb00be9b06aeb">01455</a>             <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="structMESSAGE.html#ab52f4aca632feaeae5eb00be9b06aeb">sdata</a>[<a class="code" href="acq32busprot_8h.html#ef0b468bbdab6a06814a05b2ecd6cd40">MESSAGE_DATA_LEN</a>/<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> short)];
<a name="l01456"></a><a class="code" href="structMESSAGE.html#e71742b3788b439e63a3b20674a5ff89">01456</a>             <span class="keywordtype">unsigned</span>       <a class="code" href="structMESSAGE.html#e71742b3788b439e63a3b20674a5ff89">ldata</a>[<a class="code" href="acq32busprot_8h.html#ef0b468bbdab6a06814a05b2ecd6cd40">MESSAGE_DATA_LEN</a>/<span class="keyword">sizeof</span>(unsigned)];
<a name="l01457"></a><a class="code" href="structMESSAGE.html#8d14341e338f9d3e3dd62e39ef2dd689">01457</a>             <span class="keywordtype">char</span>           <a class="code" href="structMESSAGE.html#8d14341e338f9d3e3dd62e39ef2dd689">cdata</a>[<a class="code" href="acq32busprot_8h.html#ef0b468bbdab6a06814a05b2ecd6cd40">MESSAGE_DATA_LEN</a>];
<a name="l01458"></a><a class="code" href="structMESSAGE.html#09ddc2075291c5865fdb103744cbcfad">01458</a>             <span class="keyword">struct </span><a class="code" href="structHOST__REQUEST__DATA__RECORD.html">HOST_REQUEST_DATA_RECORD</a> <a class="code" href="structMESSAGE.html#09ddc2075291c5865fdb103744cbcfad">hrdr</a>[<a class="code" href="acq32busprot_8h.html#2ec04a339eef59d2b9bf2444d675e7db">MESSAGE_HRDR_LEN</a>];
<a name="l01459"></a>01459     }
<a name="l01460"></a>01460             <a class="code" href="structMESSAGE.html#ab9abbb21087414b6b3f4bf7b57df7ee">payload</a>;
<a name="l01461"></a>01461 }
<a name="l01462"></a>01462     <a class="code" href="structMESSAGE.html" title="I2O message handling.">Message</a>;
<a name="l01463"></a>01463 
<a name="l01464"></a>01464 <span class="preprocessor">#endif              </span><span class="comment">/* _ACQ32BUSPROT_H_ */</span>
<a name="l01465"></a>01465 
<a name="l01466"></a>01466 
<a name="l01467"></a>01467 
<a name="l01468"></a>01468 
<a name="l01469"></a>01469 
<a name="l01470"></a>01470 
<a name="l01471"></a>01471 
<a name="l01472"></a>01472 
<a name="l01473"></a>01473 
<a name="l01474"></a>01474 
<a name="l01475"></a>01475 
<a name="l01476"></a>01476 
<a name="l01477"></a>01477 
<a name="l01478"></a>01478 
<a name="l01479"></a>01479 
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Feb 19 14:51:16 2010 for ACQ200 HOSTDRV by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.7.1 </small></address>
</body>
</html>
